{"version":3,"sources":["checkout.js"],"names":["jQuery","$","on","selectedClass","parent","this","parents","first","hasClass","siblings","removeClass","addClass","document","body","evt","preventDefault","$modal","closest","$calForm","length","fn","MinimogModal","$calShippingCountry","find","$calShippingState","$calShippingCity","$calShippingPostcode","$calShippingAddress2","val","trigger","wc_checkout_form","updateTimer","dirtyInput","selectedPaymentMethod","xhr","$order_review","$checkout_form","init","update_checkout","init_checkout","payment_method_selected","submitOrder","attr","submit","validate_field","trigger_update_checkout","input_changed","maybe_input_changed","queue_update_checkout","ship_to_different_address","init_payment_methods","wc_checkout_params","is_checkout","option_guest_checkout","toggle_create_account","$payment_methods","checkedPaymentMethod","eq","hide","prop","filter","slideUp","get_payment_method","e","stopPropagation","target_payment_box","is_checked","is","slideDown","show","data","text","target","maybe_update_checkout","keyCode","which","reset_update_checkout_timer","setTimeout","$required_inputs","update_totals","each","clearTimeout","is_valid_json","raw_json","json","JSON","parse","$this","$parent","validated","validate_required","validate_email","validate_phone","pattern","event_type","type","RegExp","test","replace","event","args","update_checkout_action","country","state","postcode","city","address","address_2","s_country","s_state","s_postcode","s_city","s_address","s_address_2","has_full_address","shipping_methods","abort","update_shipping_method","security","update_order_review_nonce","payment_method","post_data","serialize","shipping_method","block","message","overlayCSS","background","opacity","ajax","url","wc_ajax_url","toString","success","paymentDetails","$form","reload","window","location","remove","termsCheckBoxChecked","ID","inArray","fragments","key","value","replaceWith","unblock","isEmptyObject","result","messages","prepend","scroll_to_notices","handleUnloadEvent","navigator","userAgent","indexOf","documentMode","attachUnloadEventsOnSubmit","detachUnloadEventsOnSubmit","off","blockOnSubmit","triggerHandler","ajaxSetup","dataFilter","raw_response","dataType","maybe_valid_json","match","console","log","checkout_url","redirect","decodeURI","err","refresh","submit_error","i18n_checkout_error","error","jqXHR","textStatus","errorThrown","error_message","scrollElement","wc_checkout_login_form","show_login_form","slideToggle","wc_terms_toggle","toggle_terms","link_toggle"],"mappings":"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","file":"../../../woo/checkout.min.js","sourcesContent":["/* global wc_checkout_params */\njQuery( function( $ ) {\n\t'use strict';\n\n\tpaymentMethodChanged();\n\tupdateBillingShippingAddressOnCalculated();\n\n\tfunction paymentMethodChanged() {\n\t\tvar $orderReview = $( '#order_review' );\n\n\t\t$orderReview.on( 'click', 'input[name=\"payment_method\"]', function() {\n\t\t\tvar selectedClass = 'payment-selected';\n\t\t\tvar parent = $( this ).parents( '.wc_payment_method' ).first();\n\n\t\t\tif ( ! parent.hasClass( selectedClass ) ) {\n\t\t\t\tparent.siblings().removeClass( selectedClass );\n\t\t\t\tparent.addClass( selectedClass );\n\t\t\t}\n\t\t} );\n\t}\n\n\tfunction updateBillingShippingAddressOnCalculated() {\n\t\t$( document.body ).on( 'click', 'button[name=\"calc_shipping\"]', function( evt ) {\n\t\t\t// Don't submit form.\n\t\t\tevt.preventDefault();\n\n\t\t\tvar $modal = $( this ).closest( '.minimog-modal' );\n\t\t\tif ( $modal.length > 0 && $.fn.MinimogModal ) {\n\t\t\t\t$modal.MinimogModal( 'close' );\n\t\t\t}\n\n\t\t\tvar $calForm             = $( this ).closest( 'form' ),\n\t\t\t    $calShippingCountry  = $calForm.find( '#calc_shipping_country' ),\n\t\t\t    $calShippingState    = $calForm.find( '#calc_shipping_state' ),\n\t\t\t    $calShippingCity     = $calForm.find( '#calc_shipping_city' ),\n\t\t\t    $calShippingPostcode = $calForm.find( '#calc_shipping_postcode' ),\n\t\t\t    $calShippingAddress2 = $calForm.find( '#calc_shipping_address_2' );\n\n\t\t\tif ( 0 < $calShippingCity.length ) {\n\t\t\t\t$( '#billing_city' ).val( $calShippingCity.val() );\n\t\t\t\t$( '#shipping_city' ).val( $calShippingCity.val() );\n\t\t\t}\n\n\t\t\tif ( 0 < $calShippingPostcode.length ) {\n\t\t\t\t$( '#billing_postcode' ).val( $calShippingPostcode.val() );\n\t\t\t\t$( '#shipping_postcode' ).val( $calShippingPostcode.val() );\n\t\t\t}\n\n\t\t\tif ( 0 < $calShippingAddress2.length ) {\n\t\t\t\t$( '#billing_address_2' ).val( $calShippingAddress2.val() );\n\t\t\t\t$( '#shipping_address_2' ).val( $calShippingAddress2.val() );\n\t\t\t}\n\n\t\t\tif ( 0 < $calShippingCountry.length ) {\n\t\t\t\t$( '#billing_country' ).val( $calShippingCountry.val() ).trigger( 'change' );\n\t\t\t\t$( '#shipping_country' ).val( $calShippingCountry.val() ).trigger( 'change' );\n\t\t\t}\n\n\t\t\tif ( 0 < $calShippingState.length ) {\n\t\t\t\t$( '#billing_state' ).val( $calShippingState.val() ).trigger( 'change' );\n\t\t\t\t$( '#shipping_state' ).val( $calShippingState.val() ).trigger( 'change' );\n\t\t\t}\n\t\t} );\n\t}\n\n\tvar wc_checkout_form = {\n\t\tupdateTimer: false,\n\t\tdirtyInput: false,\n\t\tselectedPaymentMethod: false,\n\t\txhr: false,\n\t\t$order_review: $( '#order_review' ),\n\t\t$checkout_form: $( 'form.checkout' ),\n\t\tinit: function() {\n\t\t\t$( document.body ).on( 'update_checkout', this.update_checkout );\n\t\t\t$( document.body ).on( 'init_checkout', this.init_checkout );\n\n\t\t\t// Payment methods\n\t\t\tthis.$checkout_form.on( 'click', 'input[name=\"payment_method\"]', this.payment_method_selected );\n\n\t\t\tif ( $( document.body ).hasClass( 'woocommerce-order-pay' ) ) {\n\t\t\t\tthis.$order_review.on( 'click', 'input[name=\"payment_method\"]', this.payment_method_selected );\n\t\t\t\tthis.$order_review.on( 'submit', this.submitOrder );\n\t\t\t\tthis.$order_review.attr( 'novalidate', 'novalidate' );\n\t\t\t}\n\n\t\t\t// Prevent HTML5 validation which can conflict.\n\t\t\tthis.$checkout_form.attr( 'novalidate', 'novalidate' );\n\n\t\t\t// Form submission\n\t\t\tthis.$checkout_form.on( 'submit', this.submit );\n\n\t\t\t// Inline validation\n\t\t\tthis.$checkout_form.on( 'input validate change', '.input-text, select, input:checkbox', this.validate_field );\n\n\t\t\t// Manual trigger\n\t\t\tthis.$checkout_form.on( 'update', this.trigger_update_checkout );\n\n\t\t\t// Inputs/selects which update totals\n\t\t\tthis.$checkout_form.on( 'change', 'select.shipping_method, input[name^=\"shipping_method\"], #ship-to-different-address input, .update_totals_on_change select, .update_totals_on_change input[type=\"radio\"], .update_totals_on_change input[type=\"checkbox\"]', this.trigger_update_checkout ); // eslint-disable-line max-len\n\t\t\tthis.$checkout_form.on( 'change', '.address-field select', this.input_changed );\n\t\t\tthis.$checkout_form.on( 'change', '.address-field input.input-text, .update_totals_on_change input.input-text', this.maybe_input_changed ); // eslint-disable-line max-len\n\t\t\tthis.$checkout_form.on( 'keydown', '.address-field input.input-text, .update_totals_on_change input.input-text', this.queue_update_checkout ); // eslint-disable-line max-len\n\n\t\t\t// Address fields\n\t\t\tthis.$checkout_form.on( 'change', '#ship-to-different-address input', this.ship_to_different_address );\n\n\t\t\t// Trigger events\n\t\t\tthis.$checkout_form.find( '#ship-to-different-address input' ).trigger( 'change' );\n\t\t\tthis.init_payment_methods();\n\n\t\t\t// Update on page load\n\t\t\tif ( wc_checkout_params.is_checkout === '1' ) {\n\t\t\t\t$( document.body ).trigger( 'init_checkout' );\n\t\t\t}\n\t\t\tif ( wc_checkout_params.option_guest_checkout === 'yes' ) {\n\t\t\t\t$( 'input#createaccount' ).on( 'change', this.toggle_create_account ).trigger( 'change' );\n\t\t\t}\n\t\t},\n\t\tinit_payment_methods: function() {\n\t\t\tvar $payment_methods = $( '.woocommerce-checkout' ).find( 'input[name=\"payment_method\"]' );\n\n\t\t\t// If there is one method, we can hide the radio input\n\t\t\tif ( 1 === $payment_methods.length ) {\n\t\t\t\t$payment_methods.eq( 0 ).hide();\n\t\t\t}\n\n\t\t\t// If there was a previously selected method, check that one.\n\t\t\tif ( wc_checkout_form.selectedPaymentMethod ) {\n\t\t\t\t$( '#' + wc_checkout_form.selectedPaymentMethod ).prop( 'checked', true );\n\t\t\t}\n\n\t\t\t// If there are none selected, select the first.\n\t\t\tif ( 0 === $payment_methods.filter( ':checked' ).length ) {\n\t\t\t\t$payment_methods.eq( 0 ).prop( 'checked', true );\n\t\t\t}\n\n\t\t\t// Get name of new selected method.\n\t\t\tvar checkedPaymentMethod = $payment_methods.filter( ':checked' ).eq( 0 ).prop( 'id' );\n\n\t\t\tif ( $payment_methods.length > 1 ) {\n\t\t\t\t// Hide open descriptions.\n\t\t\t\t$( 'div.payment_box:not(\".' + checkedPaymentMethod + '\")' ).filter( ':visible' ).slideUp( 0 );\n\t\t\t}\n\n\t\t\t// Trigger click event for selected method\n\t\t\t$payment_methods.filter( ':checked' ).eq( 0 ).trigger( 'click' );\n\t\t},\n\t\tget_payment_method: function() {\n\t\t\treturn wc_checkout_form.$checkout_form.find( 'input[name=\"payment_method\"]:checked' ).val();\n\t\t},\n\t\tpayment_method_selected: function( e ) {\n\t\t\te.stopPropagation();\n\n\t\t\tif ( $( '.payment_methods input.input-radio' ).length > 1 ) {\n\t\t\t\tvar target_payment_box = $( 'div.payment_box.' + $( this ).attr( 'ID' ) ),\n\t\t\t\t    is_checked         = $( this ).is( ':checked' );\n\n\t\t\t\tif ( is_checked && ! target_payment_box.is( ':visible' ) ) {\n\t\t\t\t\t$( 'div.payment_box' ).filter( ':visible' ).slideUp( 230 );\n\n\t\t\t\t\tif ( is_checked ) {\n\t\t\t\t\t\ttarget_payment_box.slideDown( 230 );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$( 'div.payment_box' ).show();\n\t\t\t}\n\n\t\t\tif ( $( this ).data( 'order_button_text' ) ) {\n\t\t\t\t$( '#place_order' ).text( $( this ).data( 'order_button_text' ) );\n\t\t\t} else {\n\t\t\t\t$( '#place_order' ).text( $( '#place_order' ).data( 'value' ) );\n\t\t\t}\n\n\t\t\tvar selectedPaymentMethod = $( '.woocommerce-checkout input[name=\"payment_method\"]:checked' ).attr( 'id' );\n\n\t\t\tif ( selectedPaymentMethod !== wc_checkout_form.selectedPaymentMethod ) {\n\t\t\t\t$( document.body ).trigger( 'payment_method_selected' );\n\t\t\t}\n\n\t\t\twc_checkout_form.selectedPaymentMethod = selectedPaymentMethod;\n\t\t},\n\t\ttoggle_create_account: function() {\n\t\t\t$( 'div.create-account' ).hide();\n\n\t\t\tif ( $( this ).is( ':checked' ) ) {\n\t\t\t\t// Ensure password is not pre-populated.\n\t\t\t\t$( '#account_password' ).val( '' ).trigger( 'change' );\n\t\t\t\t$( 'div.create-account' ).slideDown();\n\t\t\t}\n\t\t},\n\t\tinit_checkout: function() {\n\t\t\t$( document.body ).trigger( 'update_checkout' );\n\t\t},\n\t\tmaybe_input_changed: function( e ) {\n\t\t\tif ( wc_checkout_form.dirtyInput ) {\n\t\t\t\twc_checkout_form.input_changed( e );\n\t\t\t}\n\t\t},\n\t\tinput_changed: function( e ) {\n\t\t\twc_checkout_form.dirtyInput = e.target;\n\t\t\twc_checkout_form.maybe_update_checkout();\n\t\t},\n\t\tqueue_update_checkout: function( e ) {\n\t\t\tvar code = e.keyCode || e.which || 0;\n\n\t\t\tif ( code === 9 ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\twc_checkout_form.dirtyInput = this;\n\t\t\twc_checkout_form.reset_update_checkout_timer();\n\t\t\twc_checkout_form.updateTimer = setTimeout( wc_checkout_form.maybe_update_checkout, '1000' );\n\t\t},\n\t\ttrigger_update_checkout: function() {\n\t\t\twc_checkout_form.reset_update_checkout_timer();\n\t\t\twc_checkout_form.dirtyInput = false;\n\t\t\t$( document.body ).trigger( 'update_checkout' );\n\t\t},\n\t\tmaybe_update_checkout: function() {\n\t\t\tvar update_totals = true;\n\n\t\t\tif ( $( wc_checkout_form.dirtyInput ).length ) {\n\t\t\t\tvar $required_inputs = $( wc_checkout_form.dirtyInput ).closest( 'div' ).find( '.address-field.validate-required' );\n\n\t\t\t\tif ( $required_inputs.length ) {\n\t\t\t\t\t$required_inputs.each( function() {\n\t\t\t\t\t\tif ( $( this ).find( 'input.input-text' ).val() === '' ) {\n\t\t\t\t\t\t\tupdate_totals = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( update_totals ) {\n\t\t\t\twc_checkout_form.trigger_update_checkout();\n\t\t\t}\n\t\t},\n\t\tship_to_different_address: function() {\n\t\t\t$( 'div.shipping_address' ).hide();\n\t\t\tif ( $( this ).is( ':checked' ) ) {\n\t\t\t\t$( 'div.shipping_address' ).slideDown();\n\t\t\t}\n\t\t},\n\t\treset_update_checkout_timer: function() {\n\t\t\tclearTimeout( wc_checkout_form.updateTimer );\n\t\t},\n\t\tis_valid_json: function( raw_json ) {\n\t\t\ttry {\n\t\t\t\tvar json = JSON.parse( raw_json );\n\n\t\t\t\treturn (\n\t\t\t\t\tjson && 'object' === typeof json\n\t\t\t\t);\n\t\t\t} catch ( e ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tvalidate_field: function( e ) {\n\t\t\tvar $this             = $( this ),\n\t\t\t    $parent           = $this.closest( '.form-row' ),\n\t\t\t    validated         = true,\n\t\t\t    validate_required = $parent.is( '.validate-required' ),\n\t\t\t    validate_email    = $parent.is( '.validate-email' ),\n\t\t\t    validate_phone    = $parent.is( '.validate-phone' ),\n\t\t\t    pattern           = '',\n\t\t\t    event_type        = e.type;\n\n\t\t\tif ( 'input' === event_type ) {\n\t\t\t\t$parent.removeClass( 'woocommerce-invalid woocommerce-invalid-required-field woocommerce-invalid-email woocommerce-invalid-phone woocommerce-validated' ); // eslint-disable-line max-len\n\t\t\t}\n\n\t\t\tif ( 'validate' === event_type || 'change' === event_type ) {\n\n\t\t\t\tif ( validate_required ) {\n\t\t\t\t\tif ( 'checkbox' === $this.attr( 'type' ) && ! $this.is( ':checked' ) ) {\n\t\t\t\t\t\t$parent.removeClass( 'woocommerce-validated' ).addClass( 'woocommerce-invalid woocommerce-invalid-required-field' );\n\t\t\t\t\t\tvalidated = false;\n\t\t\t\t\t} else if ( $this.val() === '' ) {\n\t\t\t\t\t\t$parent.removeClass( 'woocommerce-validated' ).addClass( 'woocommerce-invalid woocommerce-invalid-required-field' );\n\t\t\t\t\t\tvalidated = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( validate_email ) {\n\t\t\t\t\tif ( $this.val() ) {\n\t\t\t\t\t\t/* https://stackoverflow.com/questions/2855865/jquery-validate-e-mail-address-regex */\n\t\t\t\t\t\tpattern = new RegExp( /^([a-z\\d!#$%&'*+\\-\\/=?^_`{|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+(\\.[a-z\\d!#$%&'*+\\-\\/=?^_`{|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+)*|\"((([ \\t]*\\r\\n)?[ \\t]+)?([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))*(([ \\t]*\\r\\n)?[ \\t]+)?\")@(([a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|[a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF][a-z\\d\\-._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]*[a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])\\.)+([a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|[a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF][a-z\\d\\-._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]*[0-9a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])\\.?$/i ); // eslint-disable-line max-len\n\n\t\t\t\t\t\tif ( ! pattern.test( $this.val() ) ) {\n\t\t\t\t\t\t\t$parent.removeClass( 'woocommerce-validated' ).addClass( 'woocommerce-invalid woocommerce-invalid-email woocommerce-invalid-phone' ); // eslint-disable-line max-len\n\t\t\t\t\t\t\tvalidated = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( validate_phone ) {\n\t\t\t\t\tpattern = new RegExp( /[\\s\\#0-9_\\-\\+\\/\\(\\)\\.]/g );\n\n\t\t\t\t\tif ( 0 < $this.val().replace( pattern, '' ).length ) {\n\t\t\t\t\t\t$parent.removeClass( 'woocommerce-validated' ).addClass( 'woocommerce-invalid woocommerce-invalid-phone' );\n\t\t\t\t\t\tvalidated = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( validated ) {\n\t\t\t\t\t$parent.removeClass( 'woocommerce-invalid woocommerce-invalid-required-field woocommerce-invalid-email woocommerce-invalid-phone' ).addClass( 'woocommerce-validated' ); // eslint-disable-line max-len\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tupdate_checkout: function( event, args ) {\n\t\t\t// Small timeout to prevent multiple requests when several fields update at the same time\n\t\t\twc_checkout_form.reset_update_checkout_timer();\n\t\t\twc_checkout_form.updateTimer = setTimeout( wc_checkout_form.update_checkout_action, '5', args );\n\t\t},\n\t\tupdate_checkout_action: function( args ) {\n\t\t\tif ( wc_checkout_form.xhr ) {\n\t\t\t\twc_checkout_form.xhr.abort();\n\t\t\t}\n\n\t\t\tif ( $( 'form.checkout' ).length === 0 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\targs = typeof args !== 'undefined' ? args : {\n\t\t\t\tupdate_shipping_method: true\n\t\t\t};\n\n\t\t\tvar country          = $( '#billing_country' ).val(),\n\t\t\t    state            = $( '#billing_state' ).val(),\n\t\t\t    postcode         = $( ':input#billing_postcode' ).val(),\n\t\t\t    city             = $( '#billing_city' ).val(),\n\t\t\t    address          = $( ':input#billing_address_1' ).val(),\n\t\t\t    address_2        = $( ':input#billing_address_2' ).val(),\n\t\t\t    s_country        = country,\n\t\t\t    s_state          = state,\n\t\t\t    s_postcode       = postcode,\n\t\t\t    s_city           = city,\n\t\t\t    s_address        = address,\n\t\t\t    s_address_2      = address_2,\n\t\t\t    $required_inputs = $( wc_checkout_form.$checkout_form ).find( '.address-field.validate-required:visible' ),\n\t\t\t    has_full_address = true;\n\n\t\t\tif ( $required_inputs.length ) {\n\t\t\t\t$required_inputs.each( function() {\n\t\t\t\t\tif ( $( this ).find( ':input' ).val() === '' ) {\n\t\t\t\t\t\thas_full_address = false;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tif ( $( '#ship-to-different-address' ).find( 'input' ).is( ':checked' ) ) {\n\t\t\t\ts_country = $( '#shipping_country' ).val();\n\t\t\t\ts_state = $( '#shipping_state' ).val();\n\t\t\t\ts_postcode = $( ':input#shipping_postcode' ).val();\n\t\t\t\ts_city = $( '#shipping_city' ).val();\n\t\t\t\ts_address = $( ':input#shipping_address_1' ).val();\n\t\t\t\ts_address_2 = $( ':input#shipping_address_2' ).val();\n\t\t\t}\n\n\t\t\tvar data = {\n\t\t\t\tsecurity: wc_checkout_params.update_order_review_nonce,\n\t\t\t\tpayment_method: wc_checkout_form.get_payment_method(),\n\t\t\t\tcountry: country,\n\t\t\t\tstate: state,\n\t\t\t\tpostcode: postcode,\n\t\t\t\tcity: city,\n\t\t\t\taddress: address,\n\t\t\t\taddress_2: address_2,\n\t\t\t\ts_country: s_country,\n\t\t\t\ts_state: s_state,\n\t\t\t\ts_postcode: s_postcode,\n\t\t\t\ts_city: s_city,\n\t\t\t\ts_address: s_address,\n\t\t\t\ts_address_2: s_address_2,\n\t\t\t\thas_full_address: has_full_address,\n\t\t\t\tpost_data: $( 'form.checkout' ).serialize()\n\t\t\t};\n\n\t\t\tif ( false !== args.update_shipping_method ) {\n\t\t\t\tvar shipping_methods = {};\n\n\t\t\t\t// eslint-disable-next-line max-len\n\t\t\t\t// Minimog fix multi input not working.\n\t\t\t\twc_checkout_form.$checkout_form.find( 'select.shipping_method, input[name^=\"shipping_method\"][type=\"radio\"]:checked, input[name^=\"shipping_method\"][type=\"hidden\"]' ).each( function() {\n\t\t\t\t\tshipping_methods[ $( this ).data( 'index' ) ] = $( this ).val();\n\t\t\t\t} );\n\n\t\t\t\tdata.shipping_method = shipping_methods;\n\t\t\t}\n\n\t\t\t$( '.woocommerce-checkout-payment, .woocommerce-checkout-review-order-table' ).block( {\n\t\t\t\tmessage: null,\n\t\t\t\toverlayCSS: {\n\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\topacity: 0.6\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\twc_checkout_form.xhr = $.ajax( {\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: wc_checkout_params.wc_ajax_url.toString().replace( '%%endpoint%%', 'update_order_review' ),\n\t\t\t\tdata: data,\n\t\t\t\tsuccess: function( data ) {\n\n\t\t\t\t\t// Reload the page if requested\n\t\t\t\t\tif ( data && true === data.reload ) {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Remove any notices added previously\n\t\t\t\t\t$( '.woocommerce-NoticeGroup-updateOrderReview' ).remove();\n\n\t\t\t\t\tvar termsCheckBoxChecked = $( '#terms' ).prop( 'checked' );\n\n\t\t\t\t\t// Save payment details to a temporary object\n\t\t\t\t\tvar paymentDetails = {};\n\t\t\t\t\t$( '.payment_box :input' ).each( function() {\n\t\t\t\t\t\tvar ID = $( this ).attr( 'id' );\n\n\t\t\t\t\t\tif ( ID ) {\n\t\t\t\t\t\t\tif ( $.inArray( $( this ).attr( 'type' ), [ 'checkbox', 'radio' ] ) !== - 1 ) {\n\t\t\t\t\t\t\t\tpaymentDetails[ ID ] = $( this ).prop( 'checked' );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tpaymentDetails[ ID ] = $( this ).val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Always update the fragments\n\t\t\t\t\tif ( data && data.fragments ) {\n\t\t\t\t\t\t$.each( data.fragments, function( key, value ) {\n\t\t\t\t\t\t\tif ( ! wc_checkout_form.fragments || wc_checkout_form.fragments[ key ] !== value ) {\n\t\t\t\t\t\t\t\t$( key ).replaceWith( value );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$( key ).unblock();\n\t\t\t\t\t\t} );\n\t\t\t\t\t\twc_checkout_form.fragments = data.fragments;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Recheck the terms and conditions box, if needed\n\t\t\t\t\tif ( termsCheckBoxChecked ) {\n\t\t\t\t\t\t$( '#terms' ).prop( 'checked', true );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fill in the payment details if possible without overwriting data if set.\n\t\t\t\t\tif ( ! $.isEmptyObject( paymentDetails ) ) {\n\t\t\t\t\t\t$( '.payment_box :input' ).each( function() {\n\t\t\t\t\t\t\tvar ID = $( this ).attr( 'id' );\n\t\t\t\t\t\t\tif ( ID ) {\n\t\t\t\t\t\t\t\tif ( $.inArray( $( this ).attr( 'type' ), [ 'checkbox', 'radio' ] ) !== - 1 ) {\n\t\t\t\t\t\t\t\t\t$( this ).prop( 'checked', paymentDetails[ ID ] ).trigger( 'change' );\n\t\t\t\t\t\t\t\t} else if ( $.inArray( $( this ).attr( 'type' ), [ 'select' ] ) !== - 1 ) {\n\t\t\t\t\t\t\t\t\t$( this ).val( paymentDetails[ ID ] ).trigger( 'change' );\n\t\t\t\t\t\t\t\t} else if ( null !== $( this ).val() && 0 === $( this ).val().length ) {\n\t\t\t\t\t\t\t\t\t$( this ).val( paymentDetails[ ID ] ).trigger( 'change' );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Check for error\n\t\t\t\t\tif ( data && 'failure' === data.result ) {\n\n\t\t\t\t\t\tvar $form = $( 'form.checkout' );\n\n\t\t\t\t\t\t// Remove notices from all sources\n\t\t\t\t\t\t$( '.woocommerce-error, .woocommerce-message' ).remove();\n\n\t\t\t\t\t\t// Add new errors returned by this event\n\t\t\t\t\t\tif ( data.messages ) {\n\t\t\t\t\t\t\t$form.prepend( '<div class=\"woocommerce-NoticeGroup woocommerce-NoticeGroup-updateOrderReview\">' + data.messages + '</div>' ); // eslint-disable-line max-len\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$form.prepend( data );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Lose focus for all fields\n\t\t\t\t\t\t$form.find( '.input-text, select, input:checkbox' ).trigger( 'validate' ).trigger( 'blur' );\n\n\t\t\t\t\t\twc_checkout_form.scroll_to_notices();\n\t\t\t\t\t}\n\n\t\t\t\t\t// Re-init methods\n\t\t\t\t\twc_checkout_form.init_payment_methods();\n\n\t\t\t\t\t// Fire updated_checkout event.\n\t\t\t\t\t$( document.body ).trigger( 'updated_checkout', [ data ] );\n\t\t\t\t}\n\n\t\t\t} );\n\t\t},\n\t\thandleUnloadEvent: function( e ) {\n\t\t\t// Modern browsers have their own standard generic messages that they will display.\n\t\t\t// Confirm, alert, prompt or custom message are not allowed during the unload event\n\t\t\t// Browsers will display their own standard messages\n\n\t\t\t// Check if the browser is Internet Explorer\n\t\t\tif ( (\n\t\t\t\t     navigator.userAgent.indexOf( 'MSIE' ) !== - 1\n\t\t\t     ) || (\n\t\t\t\t     ! ! document.documentMode\n\t\t\t     ) ) {\n\t\t\t\t// IE handles unload events differently than modern browsers\n\t\t\t\te.preventDefault();\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\t\tattachUnloadEventsOnSubmit: function() {\n\t\t\t$( window ).on( 'beforeunload', this.handleUnloadEvent );\n\t\t},\n\t\tdetachUnloadEventsOnSubmit: function() {\n\t\t\t$( window ).off( 'beforeunload', this.handleUnloadEvent );\n\t\t},\n\t\tblockOnSubmit: function( $form ) {\n\t\t\tvar isBlocked = $form.data( 'blockUI.isBlocked' );\n\n\t\t\tif ( 1 !== isBlocked ) {\n\t\t\t\t$form.block( {\n\t\t\t\t\tmessage: null,\n\t\t\t\t\toverlayCSS: {\n\t\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\t\topacity: 0.6\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t},\n\t\tsubmitOrder: function() {\n\t\t\twc_checkout_form.blockOnSubmit( $( this ) );\n\t\t},\n\t\tsubmit: function() {\n\t\t\twc_checkout_form.reset_update_checkout_timer();\n\t\t\tvar $form = $( this );\n\n\t\t\tif ( $form.is( '.processing' ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Trigger a handler to let gateways manipulate the checkout if needed\n\t\t\t// eslint-disable-next-line max-len\n\t\t\tif ( $form.triggerHandler( 'checkout_place_order' ) !== false && $form.triggerHandler( 'checkout_place_order_' + wc_checkout_form.get_payment_method() ) !== false ) {\n\n\t\t\t\t$form.addClass( 'processing' );\n\n\t\t\t\twc_checkout_form.blockOnSubmit( $form );\n\n\t\t\t\t// Attach event to block reloading the page when the form has been submitted\n\t\t\t\twc_checkout_form.attachUnloadEventsOnSubmit();\n\n\t\t\t\t// ajaxSetup is global, but we use it to ensure JSON is valid once returned.\n\t\t\t\t$.ajaxSetup( {\n\t\t\t\t\tdataFilter: function( raw_response, dataType ) {\n\t\t\t\t\t\t// We only want to work with JSON\n\t\t\t\t\t\tif ( 'json' !== dataType ) {\n\t\t\t\t\t\t\treturn raw_response;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( wc_checkout_form.is_valid_json( raw_response ) ) {\n\t\t\t\t\t\t\treturn raw_response;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Attempt to fix the malformed JSON\n\t\t\t\t\t\t\tvar maybe_valid_json = raw_response.match( /{\"result.*}/ );\n\n\t\t\t\t\t\t\tif ( null === maybe_valid_json ) {\n\t\t\t\t\t\t\t\tconsole.log( 'Unable to fix malformed JSON' );\n\t\t\t\t\t\t\t} else if ( wc_checkout_form.is_valid_json( maybe_valid_json[ 0 ] ) ) {\n\t\t\t\t\t\t\t\tconsole.log( 'Fixed malformed JSON. Original:' );\n\t\t\t\t\t\t\t\tconsole.log( raw_response );\n\t\t\t\t\t\t\t\traw_response = maybe_valid_json[ 0 ];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.log( 'Unable to fix malformed JSON' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn raw_response;\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t$.ajax( {\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: wc_checkout_params.checkout_url,\n\t\t\t\t\tdata: $form.serialize(),\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function( result ) {\n\t\t\t\t\t\t// Detach the unload handler that prevents a reload / redirect\n\t\t\t\t\t\twc_checkout_form.detachUnloadEventsOnSubmit();\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif ( 'success' === result.result && $form.triggerHandler( 'checkout_place_order_success', result ) !== false ) {\n\t\t\t\t\t\t\t\tif ( - 1 === result.redirect.indexOf( 'https://' ) || - 1 === result.redirect.indexOf( 'http://' ) ) {\n\t\t\t\t\t\t\t\t\twindow.location = result.redirect;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\twindow.location = decodeURI( result.redirect );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( 'failure' === result.result ) {\n\t\t\t\t\t\t\t\tthrow 'Result failure';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthrow 'Invalid response';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch ( err ) {\n\t\t\t\t\t\t\t// Reload page\n\t\t\t\t\t\t\tif ( true === result.reload ) {\n\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Trigger update in case we need a fresh nonce\n\t\t\t\t\t\t\tif ( true === result.refresh ) {\n\t\t\t\t\t\t\t\t$( document.body ).trigger( 'update_checkout' );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Add new errors\n\t\t\t\t\t\t\tif ( result.messages ) {\n\t\t\t\t\t\t\t\twc_checkout_form.submit_error( result.messages );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twc_checkout_form.submit_error( '<div class=\"woocommerce-error\">' + wc_checkout_params.i18n_checkout_error + '</div>' ); // eslint-disable-line max-len\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror: function( jqXHR, textStatus, errorThrown ) {\n\t\t\t\t\t\t// Detach the unload handler that prevents a reload / redirect\n\t\t\t\t\t\twc_checkout_form.detachUnloadEventsOnSubmit();\n\n\t\t\t\t\t\twc_checkout_form.submit_error(\n\t\t\t\t\t\t\t'<div class=\"woocommerce-error\">' +\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\terrorThrown || wc_checkout_params.i18n_checkout_error\n\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t'</div>'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\t\tsubmit_error: function( error_message ) {\n\t\t\t$( '.woocommerce-NoticeGroup-checkout, .woocommerce-error, .woocommerce-message' ).remove();\n\t\t\twc_checkout_form.$checkout_form.prepend( '<div class=\"woocommerce-NoticeGroup woocommerce-NoticeGroup-checkout\">' + error_message + '</div>' ); // eslint-disable-line max-len\n\t\t\twc_checkout_form.$checkout_form.removeClass( 'processing' ).unblock();\n\t\t\twc_checkout_form.$checkout_form.find( '.input-text, select, input:checkbox' ).trigger( 'validate' ).trigger( 'blur' );\n\t\t\twc_checkout_form.scroll_to_notices();\n\t\t\t$( document.body ).trigger( 'checkout_error', [ error_message ] );\n\t\t},\n\t\tscroll_to_notices: function() {\n\t\t\tvar scrollElement = $( '.woocommerce-NoticeGroup-updateOrderReview, .woocommerce-NoticeGroup-checkout' );\n\n\t\t\tif ( ! scrollElement.length ) {\n\t\t\t\tscrollElement = $( 'form.checkout' );\n\t\t\t}\n\t\t\t$.scroll_to_notices( scrollElement );\n\t\t}\n\t};\n\n\t/*\n\tvar wc_checkout_coupons = {\n\t\tinit: function() {\n\t\t\t$( document.body ).on( 'click', 'a.showcoupon', this.show_coupon_form );\n\t\t\t$( document.body ).on( 'click', '.woocommerce-remove-coupon', this.remove_coupon );\n\t\t\t$( 'form.checkout_coupon' ).hide().on( 'submit', this.submit );\n\t\t},\n\t\tshow_coupon_form: function() {\n\t\t\t$( '.checkout_coupon' ).slideToggle( 400, function() {\n\t\t\t\t$( '.checkout_coupon' ).find( ':input:eq(0)' ).trigger( 'focus' );\n\t\t\t} );\n\t\t\treturn false;\n\t\t},\n\t\tsubmit: function() {\n\t\t\tvar $form = $( this );\n\n\t\t\tif ( $form.is( '.processing' ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t$form.addClass( 'processing' ).block( {\n\t\t\t\tmessage: null,\n\t\t\t\toverlayCSS: {\n\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\topacity: 0.6\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tvar data = {\n\t\t\t\tsecurity: wc_checkout_params.apply_coupon_nonce,\n\t\t\t\tcoupon_code: $form.find( 'input[name=\"coupon_code\"]' ).val()\n\t\t\t};\n\n\t\t\t$.ajax( {\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: wc_checkout_params.wc_ajax_url.toString().replace( '%%endpoint%%', 'apply_coupon' ),\n\t\t\t\tdata: data,\n\t\t\t\tsuccess: function( code ) {\n\t\t\t\t\t$( '.woocommerce-error, .woocommerce-message' ).remove();\n\t\t\t\t\t$form.removeClass( 'processing' ).unblock();\n\n\t\t\t\t\tif ( code ) {\n\t\t\t\t\t\t$form.before( code );\n\t\t\t\t\t\t$form.slideUp();\n\n\t\t\t\t\t\t$( document.body ).trigger( 'applied_coupon_in_checkout', [ data.coupon_code ] );\n\t\t\t\t\t\t$( document.body ).trigger( 'update_checkout', { update_shipping_method: false } );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdataType: 'html'\n\t\t\t} );\n\n\t\t\treturn false;\n\t\t},\n\t\tremove_coupon: function( e ) {\n\t\t\te.preventDefault();\n\n\t\t\tvar container = $( this ).parents( '.woocommerce-checkout-review-order' ),\n\t\t\t    coupon    = $( this ).data( 'coupon' );\n\n\t\t\tcontainer.addClass( 'processing' ).block( {\n\t\t\t\tmessage: null,\n\t\t\t\toverlayCSS: {\n\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\topacity: 0.6\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tvar data = {\n\t\t\t\tsecurity: wc_checkout_params.remove_coupon_nonce,\n\t\t\t\tcoupon: coupon\n\t\t\t};\n\n\t\t\t$.ajax( {\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: wc_checkout_params.wc_ajax_url.toString().replace( '%%endpoint%%', 'remove_coupon' ),\n\t\t\t\tdata: data,\n\t\t\t\tsuccess: function( code ) {\n\t\t\t\t\t$( '.woocommerce-error, .woocommerce-message' ).remove();\n\t\t\t\t\tcontainer.removeClass( 'processing' ).unblock();\n\n\t\t\t\t\tif ( code ) {\n\t\t\t\t\t\t$( 'form.woocommerce-checkout' ).before( code );\n\n\t\t\t\t\t\t$( document.body ).trigger( 'removed_coupon_in_checkout', [ data.coupon ] );\n\t\t\t\t\t\t$( document.body ).trigger( 'update_checkout', { update_shipping_method: false } );\n\n\t\t\t\t\t\t// Remove coupon code from coupon field\n\t\t\t\t\t\t$( 'form.checkout_coupon' ).find( 'input[name=\"coupon_code\"]' ).val( '' );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror: function( jqXHR ) {\n\t\t\t\t\tif ( wc_checkout_params.debug_mode ) {\n\t\t\t\t\t\t/!* jshint devel: true *!/\n\t\t\t\t\t\tconsole.log( jqXHR.responseText );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdataType: 'html'\n\t\t\t} );\n\t\t}\n\t};\n\t*/\n\n\tvar wc_checkout_login_form = {\n\t\tinit: function() {\n\t\t\t$( document.body ).on( 'click', 'a.showlogin', this.show_login_form );\n\n\t\t\t$( '.mo-openid-app-icons' ).each( function() {\n\t\t\t\t$( this ).find( '.mo_btn-social' ).prop( 'style', false );\n\t\t\t\t$( this ).find( '.mo_btn-social .mofa' ).prop( 'style', false );\n\t\t\t\t$( this ).find( '.mo_btn-social svg' ).prop( 'style', false );\n\t\t\t} );\n\t\t},\n\t\tshow_login_form: function() {\n\t\t\t$( 'form.login, form.woocommerce-form--login' ).slideToggle();\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tvar wc_terms_toggle = {\n\t\tinit: function() {\n\t\t\t$( document.body ).on( 'click', 'a.woocommerce-terms-and-conditions-link', this.toggle_terms );\n\t\t},\n\n\t\ttoggle_terms: function() {\n\t\t\tif ( $( '.woocommerce-terms-and-conditions' ).length ) {\n\t\t\t\t$( '.woocommerce-terms-and-conditions' ).slideToggle( function() {\n\t\t\t\t\tvar link_toggle = $( '.woocommerce-terms-and-conditions-link' );\n\n\t\t\t\t\tif ( $( '.woocommerce-terms-and-conditions' ).is( ':visible' ) ) {\n\t\t\t\t\t\tlink_toggle.addClass( 'woocommerce-terms-and-conditions-link--open' );\n\t\t\t\t\t\tlink_toggle.removeClass( 'woocommerce-terms-and-conditions-link--closed' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlink_toggle.removeClass( 'woocommerce-terms-and-conditions-link--open' );\n\t\t\t\t\t\tlink_toggle.addClass( 'woocommerce-terms-and-conditions-link--closed' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t};\n\n\twc_checkout_form.init();\n\t//wc_checkout_coupons.init();\n\twc_checkout_login_form.init();\n\twc_terms_toggle.init();\n} );\n"]}