{"version":3,"sources":["add-to-cart-variation.js"],"names":["$","window","document","undefined","VariationForm","$form","self","this","$attributeFields","find","$singleVariation","$singleVariationWrap","$resetVariations","$product","closest","variationData","data","useAjax","xhr","loading","show","off","getChosenAttributes","bind","findMatchingVariations","isMatch","toggleResetLink","on","variationForm","onReset","onReload","onHide","onShow","onAddToCart","onResetDisplayedVariation","onResetImage","onChange","onFoundVariation","onFindVariation","onUpdateAttributes","setTimeout","trigger","prototype","event","preventDefault","val","form","removeClass","addClass","variation","purchasable","wp","mediaelement","not","filter","parent","hasClass","mediaelementplayer","settings","is","alert","wc_add_to_cart_variation_params","i18n_unavailable_text","i18n_make_a_selection_text","wc_reset_content","slideUp","wc_variations_image_update","chosenAttributes","attributes","currentAttributes","count","chosenCount","abort","block","message","overlayCSS","background","opacity","product_id","parseInt","custom_data","ajax","url","wc_ajax_url","toString","replace","type","success","after","i18n_no_matching_variations_text","slideDown","complete","unblock","shift","$sku","$weight","$dimensions","$qty","template","$template_html","sku","wc_set_content","weight","weight_html","dimensions","parseHTML","dimensions_html","variation_is_visible","wp_template","variation_id","html","is_sold_individually","attr","hide","$qty_input","qty_val","parseFloat","isNaN","max_qty","min_qty","is_purchasable","is_in_stock","text","trim","remove","addSlashes","string","each","index","el","num","current_attr_select","current_attr_name","show_option_none","option_gt_filter","new_attr_select","selected_attr_val","selected_attr_val_valid","checkAttributes","refSelect","clone","removeAttr","prop","get","extend","variations","attr_name","variationAttributes","hasOwnProperty","attr_val","variation_active","variation_is_active","$option_elements","length","i","len","$option_element","attached_options_count","option_value","chosen","attribute_name","value","matching","push","variation_attributes","val1","val2","match","css","fadeIn","fn","wc_variation_form","content","wc_set_variation_attr","log","wc_reset_variation_attr","wc_maybe_trigger_slide_position_reset","$product_gallery","reset_slide_position","new_image_id","image_id","swiperInstance","swiper","$mainImageSlide","params","loop","slideToLoop","slideTo","$slider","$gallery_nav","$product_img","$product_link","eq","variation_gallery_main_slides_html","siblings","removeAllSlides","appendSlide","update","thumbSwiper","children","variation_gallery_thumb_slides_html","$wrapperEl","wc_variations_slider_reset","image","src","wc_variations_image_reset","slideToImage","src_h","src_w","srcset","sizes","title","caption","alt","full_src","full_src_w","full_src_h","gallery_thumbnail_src","thumbSlides","llImages","$gallery_main","mainSlides","laziestloader","unwrap","$gallery_img","wc_variation_form_matcher","find_matching_variations","product_variations","variations_match","attrs1","attrs2","templateId","getElementById","textContent","test","_","open","key","close","replacement","escape","jQuery"],"mappings":"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","file":"../../../woo/add-to-cart-variation.min.js","sourcesContent":["/**\n * Edition version of wc-add-to-cart-variation\n * Updated code using swiper slider instead of slick\n */\n/*global wc_add_to_cart_variation_params */\n;(\n\tfunction( $, window, document, undefined ) {\n\t\t/**\n\t\t * VariationForm class which handles variation forms and attributes.\n\t\t */\n\t\tvar VariationForm = function( $form ) {\n\t\t\tvar self = this;\n\n\t\t\tself.$form = $form;\n\t\t\tself.$attributeFields = $form.find( '.variations select' );\n\t\t\tself.$singleVariation = $form.find( '.single_variation' );\n\t\t\tself.$singleVariationWrap = $form.find( '.single_variation_wrap' );\n\t\t\tself.$resetVariations = $form.find( '.reset_variations' );\n\t\t\tself.$product = $form.closest( '.product' );\n\t\t\tself.variationData = $form.data( 'product_variations' );\n\t\t\tself.useAjax = false === self.variationData;\n\t\t\tself.xhr = false;\n\t\t\tself.loading = true;\n\n\t\t\t// Initial state.\n\t\t\tself.$singleVariationWrap.show();\n\t\t\tself.$form.off( '.wc-variation-form' );\n\n\t\t\t// Methods.\n\t\t\tself.getChosenAttributes = self.getChosenAttributes.bind( self );\n\t\t\tself.findMatchingVariations = self.findMatchingVariations.bind( self );\n\t\t\tself.isMatch = self.isMatch.bind( self );\n\t\t\tself.toggleResetLink = self.toggleResetLink.bind( self );\n\n\t\t\t// Events.\n\t\t\t$form.on( 'click.wc-variation-form', '.reset_variations', { variationForm: self }, self.onReset );\n\t\t\t$form.on( 'reload_product_variations', { variationForm: self }, self.onReload );\n\t\t\t$form.on( 'hide_variation', { variationForm: self }, self.onHide );\n\t\t\t$form.on( 'show_variation', { variationForm: self }, self.onShow );\n\t\t\t$form.on( 'click', '.single_add_to_cart_button', { variationForm: self }, self.onAddToCart );\n\t\t\t$form.on( 'reset_data', { variationForm: self }, self.onResetDisplayedVariation );\n\t\t\t$form.on( 'reset_image', { variationForm: self }, self.onResetImage );\n\t\t\t$form.on( 'change.wc-variation-form', '.variations select', { variationForm: self }, self.onChange );\n\t\t\t$form.on( 'found_variation.wc-variation-form', { variationForm: self }, self.onFoundVariation );\n\t\t\t$form.on( 'check_variations.wc-variation-form', { variationForm: self }, self.onFindVariation );\n\t\t\t$form.on( 'update_variation_values.wc-variation-form', { variationForm: self }, self.onUpdateAttributes );\n\n\t\t\t// Init after gallery.\n\t\t\tsetTimeout( function() {\n\t\t\t\t$form.trigger( 'check_variations' );\n\t\t\t\t$form.trigger( 'wc_variation_form', self );\n\t\t\t\tself.loading = false;\n\t\t\t}, 100 );\n\t\t};\n\n\t\t/**\n\t\t * Reset all fields.\n\t\t */\n\t\tVariationForm.prototype.onReset = function( event ) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.data.variationForm.$attributeFields.val( '' ).trigger( 'change' );\n\t\t\tevent.data.variationForm.$form.trigger( 'reset_data' );\n\t\t};\n\n\t\t/**\n\t\t * Reload variation data from the DOM.\n\t\t */\n\t\tVariationForm.prototype.onReload = function( event ) {\n\t\t\tvar form = event.data.variationForm;\n\t\t\tform.variationData = form.$form.data( 'product_variations' );\n\t\t\tform.useAjax = false === form.variationData;\n\t\t\tform.$form.trigger( 'check_variations' );\n\t\t};\n\n\t\t/**\n\t\t * When a variation is hidden.\n\t\t */\n\t\tVariationForm.prototype.onHide = function( event ) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.data.variationForm.$form\n\t\t\t     .find( '.single_add_to_cart_button' )\n\t\t\t     .removeClass( 'wc-variation-is-unavailable' )\n\t\t\t     .addClass( 'disabled wc-variation-selection-needed' );\n\t\t\tevent.data.variationForm.$form\n\t\t\t     .find( '.woocommerce-variation-add-to-cart' )\n\t\t\t     .removeClass( 'woocommerce-variation-add-to-cart-enabled' )\n\t\t\t     .addClass( 'woocommerce-variation-add-to-cart-disabled' );\n\t\t};\n\n\t\t/**\n\t\t * When a variation is shown.\n\t\t */\n\t\tVariationForm.prototype.onShow = function( event, variation, purchasable ) {\n\t\t\tevent.preventDefault();\n\t\t\tif ( purchasable ) {\n\t\t\t\tevent.data.variationForm.$form\n\t\t\t\t     .find( '.single_add_to_cart_button' )\n\t\t\t\t     .removeClass( 'disabled wc-variation-selection-needed wc-variation-is-unavailable' );\n\t\t\t\tevent.data.variationForm.$form\n\t\t\t\t     .find( '.woocommerce-variation-add-to-cart' )\n\t\t\t\t     .removeClass( 'woocommerce-variation-add-to-cart-disabled' )\n\t\t\t\t     .addClass( 'woocommerce-variation-add-to-cart-enabled' );\n\n\t\t\t\t// Minimog custom.\n\t\t\t\tevent.data.variationForm.$form.find( '.quantity button' ).removeClass( 'disabled' );\n\t\t\t} else {\n\t\t\t\tevent.data.variationForm.$form\n\t\t\t\t     .find( '.single_add_to_cart_button' )\n\t\t\t\t     .removeClass( 'wc-variation-selection-needed' )\n\t\t\t\t     .addClass( 'disabled wc-variation-is-unavailable' );\n\t\t\t\tevent.data.variationForm.$form\n\t\t\t\t     .find( '.woocommerce-variation-add-to-cart' )\n\t\t\t\t     .removeClass( 'woocommerce-variation-add-to-cart-enabled' )\n\t\t\t\t     .addClass( 'woocommerce-variation-add-to-cart-disabled' );\n\n\t\t\t\t// Minimog custom.\n\t\t\t\tevent.data.variationForm.$form.find( '.quantity button' ).addClass( 'disabled' );\n\t\t\t}\n\n\t\t\t// If present, the media element library needs initialized on the variation description.\n\t\t\tif ( wp.mediaelement ) {\n\t\t\t\tevent.data.variationForm.$form.find( '.wp-audio-shortcode, .wp-video-shortcode' )\n\t\t\t\t     .not( '.mejs-container' )\n\t\t\t\t     .filter(\n\t\t\t\t\t     function() {\n\t\t\t\t\t\t     return !$( this ).parent().hasClass( 'mejs-mediaelement' );\n\t\t\t\t\t     }\n\t\t\t\t     )\n\t\t\t\t     .mediaelementplayer( wp.mediaelement.settings );\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * When the cart button is pressed.\n\t\t */\n\t\tVariationForm.prototype.onAddToCart = function( event ) {\n\t\t\tif ( $( this ).is( '.disabled' ) ) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tif ( $( this ).is( '.wc-variation-is-unavailable' ) ) {\n\t\t\t\t\twindow.alert( wc_add_to_cart_variation_params.i18n_unavailable_text );\n\t\t\t\t} else if ( $( this ).is( '.wc-variation-selection-needed' ) ) {\n\t\t\t\t\twindow.alert( wc_add_to_cart_variation_params.i18n_make_a_selection_text );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * When displayed variation data is reset.\n\t\t */\n\t\tVariationForm.prototype.onResetDisplayedVariation = function( event ) {\n\t\t\tvar form = event.data.variationForm;\n\t\t\tform.$product.find( '.product_meta' ).find( '.sku' ).wc_reset_content();\n\t\t\tform.$product\n\t\t\t    .find( '.product_weight, .woocommerce-product-attributes-item--weight .woocommerce-product-attributes-item__value' )\n\t\t\t    .wc_reset_content();\n\t\t\tform.$product\n\t\t\t    .find( '.product_dimensions, .woocommerce-product-attributes-item--dimensions .woocommerce-product-attributes-item__value' )\n\t\t\t    .wc_reset_content();\n\t\t\tform.$form.trigger( 'reset_image' );\n\t\t\tform.$singleVariation.slideUp( 200 ).trigger( 'hide_variation' );\n\t\t};\n\n\t\t/**\n\t\t * When the product image is reset.\n\t\t */\n\t\tVariationForm.prototype.onResetImage = function( event ) {\n\t\t\tevent.data.variationForm.$form.wc_variations_image_update( false );\n\t\t};\n\n\t\t/**\n\t\t * Looks for matching variations for current selected attributes.\n\t\t */\n\t\tVariationForm.prototype.onFindVariation = function( event, chosenAttributes ) {\n\t\t\tvar form              = event.data.variationForm,\n\t\t\t    attributes        = 'undefined' !== typeof chosenAttributes ? chosenAttributes : form.getChosenAttributes(),\n\t\t\t    currentAttributes = attributes.data;\n\n\t\t\tif ( attributes.count && attributes.count === attributes.chosenCount ) {\n\t\t\t\tif ( form.useAjax ) {\n\t\t\t\t\tif ( form.xhr ) {\n\t\t\t\t\t\tform.xhr.abort();\n\t\t\t\t\t}\n\t\t\t\t\tform.$form.block( {\n\t\t\t\t\t\tmessage: null,\n\t\t\t\t\t\toverlayCSS: {\n\t\t\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\t\t\topacity: 0.6\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t\tcurrentAttributes.product_id = parseInt( form.$form.data( 'product_id' ), 10 );\n\t\t\t\t\tcurrentAttributes.custom_data = form.$form.data( 'custom_data' );\n\t\t\t\t\tform.xhr = $.ajax( {\n\t\t\t\t\t\turl: wc_add_to_cart_variation_params.wc_ajax_url.toString().replace( '%%endpoint%%', 'get_variation' ),\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tdata: currentAttributes,\n\t\t\t\t\t\tsuccess: function( variation ) {\n\t\t\t\t\t\t\tif ( variation ) {\n\t\t\t\t\t\t\t\tform.$form.trigger( 'found_variation', [variation] );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tform.$form.trigger( 'reset_data' );\n\t\t\t\t\t\t\t\tattributes.chosenCount = 0;\n\n\t\t\t\t\t\t\t\tif ( !form.loading ) {\n\t\t\t\t\t\t\t\t\tform.$form\n\t\t\t\t\t\t\t\t\t    .find( '.single_variation' )\n\t\t\t\t\t\t\t\t\t    .after(\n\t\t\t\t\t\t\t\t\t\t    '<p class=\"wc-no-matching-variations woocommerce-info\">' +\n\t\t\t\t\t\t\t\t\t\t    wc_add_to_cart_variation_params.i18n_no_matching_variations_text +\n\t\t\t\t\t\t\t\t\t\t    '</p>'\n\t\t\t\t\t\t\t\t\t    );\n\t\t\t\t\t\t\t\t\tform.$form.find( '.wc-no-matching-variations' ).slideDown( 200 );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\tform.$form.unblock();\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\tform.$form.trigger( 'update_variation_values' );\n\n\t\t\t\t\tvar matching_variations = form.findMatchingVariations( form.variationData, currentAttributes ),\n\t\t\t\t\t    variation           = matching_variations.shift();\n\n\t\t\t\t\tif ( variation ) {\n\t\t\t\t\t\tform.$form.trigger( 'found_variation', [variation] );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tform.$form.trigger( 'reset_data' );\n\t\t\t\t\t\tattributes.chosenCount = 0;\n\n\t\t\t\t\t\tif ( !form.loading ) {\n\t\t\t\t\t\t\tform.$form\n\t\t\t\t\t\t\t    .find( '.single_variation' )\n\t\t\t\t\t\t\t    .after(\n\t\t\t\t\t\t\t\t    '<p class=\"wc-no-matching-variations woocommerce-info\">' +\n\t\t\t\t\t\t\t\t    wc_add_to_cart_variation_params.i18n_no_matching_variations_text +\n\t\t\t\t\t\t\t\t    '</p>'\n\t\t\t\t\t\t\t    );\n\t\t\t\t\t\t\tform.$form.find( '.wc-no-matching-variations' ).slideDown( 200 );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tform.$form.trigger( 'update_variation_values' );\n\t\t\t\tform.$form.trigger( 'reset_data' );\n\t\t\t}\n\n\t\t\t// Show reset link.\n\t\t\tform.toggleResetLink( attributes.chosenCount > 0 );\n\t\t};\n\n\t\t/**\n\t\t * Triggered when a variation has been found which matches all attributes.\n\t\t */\n\t\tVariationForm.prototype.onFoundVariation = function( event, variation ) {\n\t\t\tvar form           = event.data.variationForm,\n\t\t\t    $sku           = form.$product.find( '.product_meta' ).find( '.sku' ),\n\t\t\t    $weight        = form.$product.find(\n\t\t\t\t    '.product_weight, .woocommerce-product-attributes-item--weight .woocommerce-product-attributes-item__value'\n\t\t\t    ),\n\t\t\t    $dimensions    = form.$product.find(\n\t\t\t\t    '.product_dimensions, .woocommerce-product-attributes-item--dimensions .woocommerce-product-attributes-item__value'\n\t\t\t    ),\n\t\t\t    $qty           = form.$singleVariationWrap.find( '.quantity' ),\n\t\t\t    purchasable    = true,\n\t\t\t    variation_id   = '',\n\t\t\t    template       = false,\n\t\t\t    $template_html = '';\n\n\t\t\tif ( variation.sku ) {\n\t\t\t\t$sku.wc_set_content( variation.sku );\n\t\t\t} else {\n\t\t\t\t$sku.wc_reset_content();\n\t\t\t}\n\n\t\t\tif ( variation.weight ) {\n\t\t\t\t$weight.wc_set_content( variation.weight_html );\n\t\t\t} else {\n\t\t\t\t$weight.wc_reset_content();\n\t\t\t}\n\n\t\t\tif ( variation.dimensions ) {\n\t\t\t\t// Decode HTML entities.\n\t\t\t\t$dimensions.wc_set_content( $.parseHTML( variation.dimensions_html )[ 0 ].data );\n\t\t\t} else {\n\t\t\t\t$dimensions.wc_reset_content();\n\t\t\t}\n\n\t\t\tform.$form.wc_variations_image_update( variation );\n\n\t\t\tif ( !variation.variation_is_visible ) {\n\t\t\t\ttemplate = wp_template( 'unavailable-variation-template' );\n\t\t\t} else {\n\t\t\t\ttemplate = wp_template( 'variation-template' );\n\t\t\t\tvariation_id = variation.variation_id;\n\t\t\t}\n\n\t\t\t$template_html = template( {\n\t\t\t\tvariation: variation\n\t\t\t} );\n\t\t\t$template_html = $template_html.replace( '/*<![CDATA[*/', '' );\n\t\t\t$template_html = $template_html.replace( '/*]]>*/', '' );\n\n\t\t\tform.$singleVariation.html( $template_html );\n\t\t\tform.$form.find( 'input[name=\"variation_id\"], input.variation_id' ).val( variation.variation_id ).trigger( 'change' );\n\n\t\t\t// Hide or show qty input\n\t\t\tif ( variation.is_sold_individually === 'yes' ) {\n\t\t\t\t$qty.find( 'input.qty' ).val( '1' ).attr( 'min', '1' ).attr( 'max', '' ).trigger( 'change' );\n\t\t\t\t$qty.hide();\n\t\t\t} else {\n\n\t\t\t\tvar $qty_input = $qty.find( 'input.qty' ),\n\t\t\t\t    qty_val    = parseFloat( $qty_input.val() );\n\n\t\t\t\tif ( isNaN( qty_val ) ) {\n\t\t\t\t\tqty_val = variation.min_qty;\n\t\t\t\t} else {\n\t\t\t\t\tqty_val = qty_val > parseFloat( variation.max_qty ) ? variation.max_qty : qty_val;\n\t\t\t\t\tqty_val = qty_val < parseFloat( variation.min_qty ) ? variation.min_qty : qty_val;\n\t\t\t\t}\n\n\t\t\t\t$qty_input.attr( 'min', variation.min_qty ).attr( 'max', variation.max_qty ).val( qty_val ).trigger( 'change' );\n\t\t\t\t$qty.show();\n\t\t\t}\n\n\t\t\t// Enable or disable the add to cart button.\n\t\t\tif ( !variation.is_purchasable || !variation.is_in_stock || !variation.variation_is_visible ) {\n\t\t\t\tpurchasable = false;\n\t\t\t}\n\n\t\t\t// Reveal\n\t\t\tif ( form.$singleVariation.text().trim() ) {\n\t\t\t\tform.$singleVariation.slideDown( 200 ).trigger( 'show_variation', [variation, purchasable] );\n\t\t\t} else {\n\t\t\t\tform.$singleVariation.show().trigger( 'show_variation', [variation, purchasable] );\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Triggered when an attribute field changes.\n\t\t */\n\t\tVariationForm.prototype.onChange = function( event ) {\n\t\t\tvar form = event.data.variationForm;\n\n\t\t\tform.$form.find( 'input[name=\"variation_id\"], input.variation_id' ).val( '' ).trigger( 'change' );\n\t\t\tform.$form.find( '.wc-no-matching-variations' ).remove();\n\n\t\t\tif ( form.useAjax ) {\n\t\t\t\tform.$form.trigger( 'check_variations' );\n\t\t\t} else {\n\t\t\t\tform.$form.trigger( 'woocommerce_variation_select_change' );\n\t\t\t\tform.$form.trigger( 'check_variations' );\n\t\t\t}\n\n\t\t\t// Custom event for when variation selection has been changed\n\t\t\tform.$form.trigger( 'woocommerce_variation_has_changed' );\n\t\t};\n\n\t\t/**\n\t\t * Escape quotes in a string.\n\t\t * @param {string} string\n\t\t * @return {string}\n\t\t */\n\t\tVariationForm.prototype.addSlashes = function( string ) {\n\t\t\tstring = string.replace( /'/g, '\\\\\\'' );\n\t\t\tstring = string.replace( /\"/g, '\\\\\\\"' );\n\t\t\treturn string;\n\t\t};\n\n\t\t/**\n\t\t * Updates attributes in the DOM to show valid values.\n\t\t */\n\t\tVariationForm.prototype.onUpdateAttributes = function( event ) {\n\t\t\tvar form              = event.data.variationForm,\n\t\t\t    attributes        = form.getChosenAttributes(),\n\t\t\t    currentAttributes = attributes.data;\n\n\t\t\tif ( form.useAjax ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Loop through selects and disable/enable options based on selections.\n\t\t\tform.$attributeFields.each( function( index, el ) {\n\t\t\t\tvar current_attr_select     = $( el ),\n\t\t\t\t    current_attr_name       = current_attr_select.data( 'attribute_name' ) || current_attr_select.attr( 'name' ),\n\t\t\t\t    show_option_none        = $( el ).data( 'show_option_none' ),\n\t\t\t\t    option_gt_filter        = ':gt(0)',\n\t\t\t\t    attached_options_count  = 0,\n\t\t\t\t    new_attr_select         = $( '<select/>' ),\n\t\t\t\t    selected_attr_val       = current_attr_select.val() || '',\n\t\t\t\t    selected_attr_val_valid = true;\n\n\t\t\t\t// Reference options set at first.\n\t\t\t\tif ( !current_attr_select.data( 'attribute_html' ) ) {\n\t\t\t\t\tvar refSelect = current_attr_select.clone();\n\n\t\t\t\t\trefSelect.find( 'option' ).removeAttr( 'attached' ).prop( 'disabled', false ).prop( 'selected', false );\n\n\t\t\t\t\t// Legacy data attribute.\n\t\t\t\t\tcurrent_attr_select.data(\n\t\t\t\t\t\t'attribute_options',\n\t\t\t\t\t\trefSelect.find( 'option' + option_gt_filter ).get()\n\t\t\t\t\t);\n\t\t\t\t\tcurrent_attr_select.data( 'attribute_html', refSelect.html() );\n\t\t\t\t}\n\n\t\t\t\tnew_attr_select.html( current_attr_select.data( 'attribute_html' ) );\n\n\t\t\t\t// The attribute of this select field should not be taken into account when calculating its matching variations:\n\t\t\t\t// The constraints of this attribute are shaped by the values of the other attributes.\n\t\t\t\tvar checkAttributes = $.extend( true, {}, currentAttributes );\n\n\t\t\t\tcheckAttributes[ current_attr_name ] = '';\n\n\t\t\t\tvar variations = form.findMatchingVariations( form.variationData, checkAttributes );\n\n\t\t\t\t// Loop through variations.\n\t\t\t\tfor ( var num in variations ) {\n\t\t\t\t\tif ( typeof (\n\t\t\t\t\t\tvariations[ num ]\n\t\t\t\t\t) !== 'undefined' ) {\n\t\t\t\t\t\tvar variationAttributes = variations[ num ].attributes;\n\n\t\t\t\t\t\tfor ( var attr_name in variationAttributes ) {\n\t\t\t\t\t\t\tif ( variationAttributes.hasOwnProperty( attr_name ) ) {\n\t\t\t\t\t\t\t\tvar attr_val         = variationAttributes[ attr_name ],\n\t\t\t\t\t\t\t\t    variation_active = '';\n\n\t\t\t\t\t\t\t\tif ( attr_name === current_attr_name ) {\n\t\t\t\t\t\t\t\t\tif ( variations[ num ].variation_is_active ) {\n\t\t\t\t\t\t\t\t\t\tvariation_active = 'enabled';\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif ( attr_val ) {\n\t\t\t\t\t\t\t\t\t\t// Decode entities.\n\t\t\t\t\t\t\t\t\t\tattr_val = $( '<div/>' ).html( attr_val ).text();\n\n\t\t\t\t\t\t\t\t\t\t// Attach to matching options by value. This is done to compare\n\t\t\t\t\t\t\t\t\t\t// TEXT values rather than any HTML entities.\n\t\t\t\t\t\t\t\t\t\tvar $option_elements = new_attr_select.find( 'option' );\n\t\t\t\t\t\t\t\t\t\tif ( $option_elements.length ) {\n\t\t\t\t\t\t\t\t\t\t\tfor ( var i = 0, len = $option_elements.length; i < len; i ++ ) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar $option_element = $( $option_elements[ i ] ),\n\t\t\t\t\t\t\t\t\t\t\t\t    option_value    = $option_element.val();\n\n\t\t\t\t\t\t\t\t\t\t\t\tif ( attr_val === option_value ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t$option_element.addClass( 'attached ' + variation_active );\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t// Attach all apart from placeholder.\n\t\t\t\t\t\t\t\t\t\tnew_attr_select.find( 'option:gt(0)' ).addClass( 'attached ' + variation_active );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Count available options.\n\t\t\t\tattached_options_count = new_attr_select.find( 'option.attached' ).length;\n\n\t\t\t\t// Check if current selection is in attached options.\n\t\t\t\tif ( selected_attr_val ) {\n\t\t\t\t\tselected_attr_val_valid = false;\n\n\t\t\t\t\tif ( 0 !== attached_options_count ) {\n\t\t\t\t\t\tnew_attr_select.find( 'option.attached.enabled' ).each( function() {\n\t\t\t\t\t\t\tvar option_value = $( this ).val();\n\n\t\t\t\t\t\t\tif ( selected_attr_val === option_value ) {\n\t\t\t\t\t\t\t\tselected_attr_val_valid = true;\n\t\t\t\t\t\t\t\treturn false; // break.\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Detach the placeholder if:\n\t\t\t\t// - Valid options exist.\n\t\t\t\t// - The current selection is non-empty.\n\t\t\t\t// - The current selection is valid.\n\t\t\t\t// - Placeholders are not set to be permanently visible.\n\t\t\t\tif ( attached_options_count > 0 && selected_attr_val && selected_attr_val_valid && (\n\t\t\t\t\t'no' === show_option_none\n\t\t\t\t) ) {\n\t\t\t\t\tnew_attr_select.find( 'option:first' ).remove();\n\t\t\t\t\toption_gt_filter = '';\n\t\t\t\t}\n\n\t\t\t\t// Detach unattached.\n\t\t\t\tnew_attr_select.find( 'option' + option_gt_filter + ':not(.attached)' ).remove();\n\n\t\t\t\t// Finally, copy to DOM and set value.\n\t\t\t\tcurrent_attr_select.html( new_attr_select.html() );\n\t\t\t\tcurrent_attr_select.find( 'option' + option_gt_filter + ':not(.enabled)' ).prop( 'disabled', true );\n\n\t\t\t\t// Choose selected value.\n\t\t\t\tif ( selected_attr_val ) {\n\t\t\t\t\t// If the previously selected value is no longer available, fall back to the placeholder (it's going to be there).\n\t\t\t\t\tif ( selected_attr_val_valid ) {\n\t\t\t\t\t\tcurrent_attr_select.val( selected_attr_val );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrent_attr_select.val( '' ).trigger( 'change' );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcurrent_attr_select.val( '' ); // No change event to prevent infinite loop.\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Custom event for when variations have been updated.\n\t\t\tform.$form.trigger( 'woocommerce_update_variation_values' );\n\t\t};\n\n\t\t/**\n\t\t * Get chosen attributes from form.\n\t\t * @return array\n\t\t */\n\t\tVariationForm.prototype.getChosenAttributes = function() {\n\t\t\tvar data = {};\n\t\t\tvar count = 0;\n\t\t\tvar chosen = 0;\n\n\t\t\tthis.$attributeFields.each( function() {\n\t\t\t\tvar attribute_name = $( this ).data( 'attribute_name' ) || $( this ).attr( 'name' );\n\t\t\t\tvar value = $( this ).val() || '';\n\n\t\t\t\tif ( value.length > 0 ) {\n\t\t\t\t\tchosen ++;\n\t\t\t\t}\n\n\t\t\t\tcount ++;\n\t\t\t\tdata[ attribute_name ] = value;\n\t\t\t} );\n\n\t\t\treturn {\n\t\t\t\t'count': count,\n\t\t\t\t'chosenCount': chosen,\n\t\t\t\t'data': data\n\t\t\t};\n\t\t};\n\n\t\t/**\n\t\t * Find matching variations for attributes.\n\t\t */\n\t\tVariationForm.prototype.findMatchingVariations = function( variations, attributes ) {\n\t\t\tvar matching = [];\n\t\t\tfor ( var i = 0; i < variations.length; i ++ ) {\n\t\t\t\tvar variation = variations[ i ];\n\n\t\t\t\tif ( this.isMatch( variation.attributes, attributes ) ) {\n\t\t\t\t\tmatching.push( variation );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn matching;\n\t\t};\n\n\t\t/**\n\t\t * See if attributes match.\n\t\t * @return {Boolean}\n\t\t */\n\t\tVariationForm.prototype.isMatch = function( variation_attributes, attributes ) {\n\t\t\tvar match = true;\n\t\t\tfor ( var attr_name in variation_attributes ) {\n\t\t\t\tif ( variation_attributes.hasOwnProperty( attr_name ) ) {\n\t\t\t\t\tvar val1 = variation_attributes[ attr_name ];\n\t\t\t\t\tvar val2 = attributes[ attr_name ];\n\t\t\t\t\tif ( val1 !== undefined && val2 !== undefined && val1.length !== 0 && val2.length !== 0 && val1 !== val2 ) {\n\t\t\t\t\t\tmatch = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn match;\n\t\t};\n\n\t\t/**\n\t\t * Show or hide the reset link.\n\t\t */\n\t\tVariationForm.prototype.toggleResetLink = function( on ) {\n\t\t\tif ( on ) {\n\t\t\t\tif ( this.$resetVariations.css( 'visibility' ) === 'hidden' ) {\n\t\t\t\t\tthis.$resetVariations.css( 'visibility', 'visible' ).hide().fadeIn();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.$resetVariations.css( 'visibility', 'hidden' );\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Function to call wc_variation_form on jquery selector.\n\t\t */\n\t\t$.fn.wc_variation_form = function() {\n\t\t\tnew VariationForm( this );\n\t\t\treturn this;\n\t\t};\n\n\t\t/**\n\t\t * Stores the default text for an element so it can be reset later\n\t\t */\n\t\t$.fn.wc_set_content = function( content ) {\n\t\t\tif ( undefined === this.attr( 'data-o_content' ) ) {\n\t\t\t\tthis.attr( 'data-o_content', this.text() );\n\t\t\t}\n\t\t\tthis.text( content );\n\t\t};\n\n\t\t/**\n\t\t * Stores the default text for an element so it can be reset later\n\t\t */\n\t\t$.fn.wc_reset_content = function() {\n\t\t\tif ( undefined !== this.attr( 'data-o_content' ) ) {\n\t\t\t\tthis.text( this.attr( 'data-o_content' ) );\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Stores a default attribute for an element so it can be reset later\n\t\t */\n\t\t$.fn.wc_set_variation_attr = function( attr, value, log = false ) {\n\t\t\tif ( undefined === this.attr( 'data-o_' + attr ) ) {\n\t\t\t\tthis.attr( 'data-o_' + attr, (\n\t\t\t\t\t!this.attr( attr )\n\t\t\t\t) ? '' : this.attr( attr ) );\n\t\t\t}\n\t\t\tif ( false === value ) {\n\t\t\t\tthis.removeAttr( attr );\n\t\t\t} else {\n\t\t\t\tthis.attr( attr, value );\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Reset a default attribute for an element so it can be reset later\n\t\t */\n\t\t$.fn.wc_reset_variation_attr = function( attr ) {\n\t\t\tif ( undefined !== this.attr( 'data-o_' + attr ) ) {\n\t\t\t\tthis.attr( attr, this.attr( 'data-o_' + attr ) );\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Minimog re-write this function\n\t\t * Reset the slide position if the variation has a different image than the current one\n\t\t */\n\t\t$.fn.wc_maybe_trigger_slide_position_reset = function( variation ) {\n\t\t\tvar $form                = $( this ),\n\t\t\t    $product             = $form.closest( '.product' ),\n\t\t\t    $product_gallery     = $product.find( '.minimog-main-swiper' ),\n\t\t\t    reset_slide_position = false,\n\t\t\t    new_image_id         = (\n\t\t\t\t    variation && variation.image_id\n\t\t\t    ) ? variation.image_id : '';\n\n\t\t\tif ( $form.attr( 'current-image' ) !== new_image_id ) {\n\t\t\t\treset_slide_position = true;\n\t\t\t}\n\n\t\t\t$form.attr( 'current-image', new_image_id );\n\n\t\t\tif ( reset_slide_position ) {\n\t\t\t\t//$product_gallery.trigger( 'woocommerce_gallery_reset_slide_position' );\n\t\t\t\tif ( $product_gallery.length > 0 ) {\n\t\t\t\t\tvar swiperInstance  = $product_gallery.find( '.swiper-container' )[ 0 ].swiper,\n\t\t\t\t\t    $mainImageSlide = $product_gallery.find( '.swiper-slide.product-main-image' ),\n\t\t\t\t\t    index           = 0;\n\t\t\t\t\tif ( $mainImageSlide.length > 0 ) {\n\t\t\t\t\t\tindex = typeof $mainImageSlide.data( 'swiper-slide-index' ) !== 'undefined' ? $mainImageSlide.data( 'swiper-slide-index' ) : $mainImageSlide.index();\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( swiperInstance.params.loop ) {\n\t\t\t\t\t\tswiperInstance.slideToLoop( index )\n\t\t\t\t\t} else {\n\t\t\t\t\t\tswiperInstance.slideTo( index )\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Minimog re-write this function.\n\t\t *\n\t\t * Sets product images for the chosen variation\n\t\t */\n\t\t$.fn.wc_variations_image_update = function( variation ) {\n\t\t\tvar $form             = this,\n\t\t\t    $product          = $form.closest( '.product' ),\n\t\t\t    $product_gallery  = $product.find( '.woo-single-gallery' ),\n\t\t\t    $slider           = $product_gallery.find( '.minimog-main-swiper .swiper-container' ),\n\t\t\t    $gallery_nav      = $product.find( '.minimog-thumbs-swiper' ),\n\t\t\t    $product_img      = $product_gallery.find( '.wp-post-image' ),\n\t\t\t    $product_img_wrap = $product_img.closest( '.product-main-image' ),\n\t\t\t    $product_link     = $product_img_wrap.find( 'a' ).eq( 0 );\n\n\t\t\tif ( variation && variation.variation_gallery_main_slides_html && $slider.length > 0 && $product_gallery.siblings( '.gallery-main-slides-o-html' ).length > 0 ) {\n\t\t\t\tvar swiper = $slider[ 0 ].swiper;\n\t\t\t\tswiper.removeAllSlides();\n\t\t\t\tswiper.appendSlide( variation.variation_gallery_main_slides_html );\n\t\t\t\tswiper.update();\n\n\t\t\t\tif ( $gallery_nav.length > 0 ) {\n\t\t\t\t\tvar thumbSwiper = $gallery_nav.children( '.swiper-inner' ).children( '.swiper-container' )[ 0 ].swiper;\n\t\t\t\t\tthumbSwiper.removeAllSlides();\n\t\t\t\t\tthumbSwiper.appendSlide( variation.variation_gallery_thumb_slides_html );\n\t\t\t\t\tthumbSwiper.update();\n\t\t\t\t\tthumbSwiper.$wrapperEl.find( '.swiper-slide' ).eq( 0 ).addClass( 'swiper-slide-thumb-active' );\n\t\t\t\t}\n\n\t\t\t\t$product_gallery.addClass( 'variation-gallery-changed' );\n\n\t\t\t\t$product_gallery.trigger( 'minimog_wc_gallery_init_light_gallery' );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$form.wc_variations_slider_reset();\n\n\t\t\tif ( variation && variation.image && variation.image.src && variation.image.src.length > 1 ) {\n\t\t\t\t// See if the gallery has an image with the same original src as the image we want to switch to.\n\t\t\t\tvar galleryHasImage = $slider.find( '.swiper-slide[data-image-id=\"' + variation.image_id + '\"]' ).length > 0;\n\n\t\t\t\t// If the gallery has the image, reset the images. We'll scroll to the correct one.\n\t\t\t\tif ( galleryHasImage ) {\n\t\t\t\t\t$form.wc_variations_image_reset();\n\t\t\t\t}\n\n\t\t\t\t// See if gallery has a matching image we can slide to.\n\t\t\t\tvar slideToImage = $product_gallery.find( '.swiper-slide[data-image-id=\"' + variation.image_id + '\"]' );\n\n\t\t\t\tif ( slideToImage.length > 0 ) {\n\t\t\t\t\tif ( $slider.length > 0 ) {\n\t\t\t\t\t\tif ( $slider[ 0 ].swiper.params.loop ) {\n\t\t\t\t\t\t\t$slider[ 0 ].swiper.slideToLoop( slideToImage.data( 'swiper-slide-index' ) )\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$slider[ 0 ].swiper.slideToLoop( slideToImage.index() );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//slideToImage.trigger( 'click' );\n\t\t\t\t\t$form.attr( 'current-image', variation.image_id );\n\n\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t$( window ).trigger( 'resize' );\n\t\t\t\t\t\t$product_gallery.trigger( 'woocommerce_gallery_init_zoom' );\n\t\t\t\t\t}, 20 );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$product_img.wc_set_variation_attr( 'src', variation.image.src );\n\t\t\t\t$product_img.wc_set_variation_attr( 'height', variation.image.src_h );\n\t\t\t\t$product_img.wc_set_variation_attr( 'width', variation.image.src_w );\n\t\t\t\t$product_img.wc_set_variation_attr( 'srcset', variation.image.srcset );\n\t\t\t\t$product_img.wc_set_variation_attr( 'sizes', variation.image.sizes );\n\t\t\t\t$product_img.wc_set_variation_attr( 'title', variation.image.title );\n\t\t\t\t$product_img.wc_set_variation_attr( 'data-caption', variation.image.caption );\n\t\t\t\t$product_img.wc_set_variation_attr( 'alt', variation.image.alt );\n\t\t\t\t$product_img.wc_set_variation_attr( 'data-src', variation.image.full_src );\n\t\t\t\t$product_img.wc_set_variation_attr( 'data-large_image', variation.image.full_src );\n\t\t\t\t$product_img.wc_set_variation_attr( 'data-large_image_width', variation.image.full_src_w );\n\t\t\t\t$product_img.wc_set_variation_attr( 'data-large_image_height', variation.image.full_src_h );\n\t\t\t\t//$product_img_wrap.wc_set_variation_attr( 'data-image-id', variation.image_id );\n\t\t\t\t$product_link.wc_set_variation_attr( 'href', variation.image.full_src );\n\n\t\t\t\t/**\n\t\t\t\t * Somehow $gallery_img lost selector\n\t\t\t\t * then need wrap to delay 200 to make it work properly.\n\t\t\t\t */\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tvar $gallery_img = $gallery_nav.find( '.swiper-slide:eq(0) img' );\n\t\t\t\t\t$gallery_img.wc_set_variation_attr( 'src', variation.image.gallery_thumbnail_src );\n\t\t\t\t}, 200 );\n\t\t\t} else {\n\t\t\t\t$form.wc_variations_image_reset();\n\t\t\t}\n\n\t\t\twindow.setTimeout( function() {\n\t\t\t\t$( window ).trigger( 'resize' );\n\t\t\t\t$form.wc_maybe_trigger_slide_position_reset( variation );\n\t\t\t\t$product_gallery.trigger( 'woocommerce_gallery_init_zoom' );\n\t\t\t}, 20 );\n\t\t};\n\n\t\t/**\n\t\t * Minimog add this function.\n\t\t *\n\t\t * Reset sliders after changed variation gallery to defaults.\n\t\t */\n\t\t$.fn.wc_variations_slider_reset = function() {\n\t\t\tvar $form            = this,\n\t\t\t    $product         = $form.closest( '.product' ),\n\t\t\t    $product_gallery = $product.find( '.woo-single-gallery' ),\n\t\t\t    $gallery_main    = $product.find( '.minimog-main-swiper' ),\n\t\t\t    $gallery_nav     = $product.find( '.minimog-thumbs-swiper' );\n\n\t\t\tif ( $product_gallery.hasClass( 'variation-gallery-changed' ) ) {\n\t\t\t\tvar mainSlides  = $product_gallery.siblings( '.gallery-main-slides-o-html' ).html(),\n\t\t\t\t    thumbSlides = $product_gallery.siblings( '.gallery-thumb-slides-o-html' ).html();\n\n\t\t\t\tvar swiper = $gallery_main.children( '.swiper-inner' ).children( '.swiper-container' )[ 0 ].swiper;\n\t\t\t\tswiper.removeAllSlides();\n\t\t\t\tswiper.appendSlide( mainSlides );\n\t\t\t\tswiper.update();\n\n\t\t\t\tvar llImages = $gallery_main.find( '.ll-image' );\n\n\t\t\t\tif ( llImages.length > 0 ) {\n\t\t\t\t\tllImages.laziestloader( {}, function() {\n\t\t\t\t\t\t$( this ).unwrap( '.minimog-lazy-image' );\n\t\t\t\t\t} ).trigger( 'laziestloader' );\n\t\t\t\t}\n\n\t\t\t\tvar thumbSwiper = $gallery_nav.children( '.swiper-inner' ).children( '.swiper-container' )[ 0 ].swiper;\n\t\t\t\tthumbSwiper.removeAllSlides();\n\t\t\t\tthumbSwiper.appendSlide( thumbSlides );\n\t\t\t\tthumbSwiper.update();\n\n\t\t\t\tvar llImages = $gallery_nav.find( '.ll-image' );\n\n\t\t\t\tif ( llImages.length > 0 ) {\n\t\t\t\t\tllImages.laziestloader( {}, function() {\n\t\t\t\t\t\t$( this ).unwrap( '.minimog-lazy-image' );\n\t\t\t\t\t} ).trigger( 'laziestloader' );\n\t\t\t\t}\n\n\t\t\t\t$product_gallery.removeClass( 'variation-gallery-changed' );\n\n\t\t\t\t$product_gallery.trigger( 'minimog_wc_gallery_init_light_gallery' );\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Minimog re-write this function.\n\t\t *\n\t\t * Reset main image to defaults.\n\t\t */\n\t\t$.fn.wc_variations_image_reset = function() {\n\t\t\tvar $form             = this,\n\t\t\t    $product          = $form.closest( '.product' ),\n\t\t\t    $product_gallery  = $product.find( '.woo-single-gallery' ),\n\t\t\t    $gallery_nav      = $product.find( '.minimog-thumbs-swiper' ),\n\t\t\t    $gallery_img      = $gallery_nav.find( '.swiper-slide:eq(0) img' ),\n\t\t\t    $product_img      = $product_gallery.find( '.wp-post-image' ),\n\t\t\t    $product_img_wrap = $product_img.closest( '.product-main-image' ),\n\t\t\t    $product_link     = $product_img_wrap.find( 'a' ).eq( 0 );\n\n\t\t\t$form.wc_variations_slider_reset();\n\n\t\t\t$product_img.wc_reset_variation_attr( 'src' );\n\t\t\t$product_img.wc_reset_variation_attr( 'width' );\n\t\t\t$product_img.wc_reset_variation_attr( 'height' );\n\t\t\t$product_img.wc_reset_variation_attr( 'srcset' );\n\t\t\t$product_img.wc_reset_variation_attr( 'sizes' );\n\t\t\t$product_img.wc_reset_variation_attr( 'title' );\n\t\t\t$product_img.wc_reset_variation_attr( 'data-caption' );\n\t\t\t$product_img.wc_reset_variation_attr( 'alt' );\n\t\t\t$product_img.wc_reset_variation_attr( 'data-src' );\n\t\t\t$product_img.wc_reset_variation_attr( 'data-large_image' );\n\t\t\t$product_img.wc_reset_variation_attr( 'data-large_image_width' );\n\t\t\t$product_img.wc_reset_variation_attr( 'data-large_image_height' );\n\t\t\t//$product_img_wrap.wc_reset_variation_attr( 'data-image-id' );\n\t\t\t$gallery_img.wc_reset_variation_attr( 'src' );\n\t\t\t$product_link.wc_reset_variation_attr( 'href' );\n\t\t};\n\n\t\t$( function() {\n\t\t\tif ( typeof wc_add_to_cart_variation_params !== 'undefined' ) {\n\t\t\t\t$( '.variations_form' ).each( function() {\n\t\t\t\t\t$( this ).wc_variation_form();\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\n\t\t/**\n\t\t * Matches inline variation objects to chosen attributes\n\t\t * @deprecated 2.6.9\n\t\t * @type {Object}\n\t\t */\n\t\tvar wc_variation_form_matcher = {\n\t\t\tfind_matching_variations: function( product_variations, settings ) {\n\t\t\t\tvar matching = [];\n\t\t\t\tfor ( var i = 0; i < product_variations.length; i ++ ) {\n\t\t\t\t\tvar variation = product_variations[ i ];\n\n\t\t\t\t\tif ( wc_variation_form_matcher.variations_match( variation.attributes, settings ) ) {\n\t\t\t\t\t\tmatching.push( variation );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn matching;\n\t\t\t},\n\t\t\tvariations_match: function( attrs1, attrs2 ) {\n\t\t\t\tvar match = true;\n\t\t\t\tfor ( var attr_name in attrs1 ) {\n\t\t\t\t\tif ( attrs1.hasOwnProperty( attr_name ) ) {\n\t\t\t\t\t\tvar val1 = attrs1[ attr_name ];\n\t\t\t\t\t\tvar val2 = attrs2[ attr_name ];\n\t\t\t\t\t\tif ( val1 !== undefined && val2 !== undefined && val1.length !== 0 && val2.length !== 0 && val1 !== val2 ) {\n\t\t\t\t\t\t\tmatch = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Avoids using wp.template where possible in order to be CSP compliant.\n\t\t * wp.template uses internally eval().\n\t\t * @param {string} templateId\n\t\t * @return {Function}\n\t\t */\n\t\tvar wp_template = function( templateId ) {\n\t\t\tvar html = document.getElementById( 'tmpl-' + templateId ).textContent;\n\t\t\tvar hard = false;\n\t\t\t// any <# #> interpolate (evaluate).\n\t\t\thard = hard || /<#\\s?data\\./.test( html );\n\t\t\t// any data that is NOT data.variation.\n\t\t\thard = hard || /{{{?\\s?data\\.(?!variation\\.).+}}}?/.test( html );\n\t\t\t// any data access deeper than 1 level e.g.\n\t\t\t// data.variation.object.item\n\t\t\t// data.variation.object['item']\n\t\t\t// data.variation.array[0]\n\t\t\thard = hard || /{{{?\\s?data\\.variation\\.[\\w-]*[^\\s}]/.test( html );\n\t\t\tif ( hard ) {\n\t\t\t\treturn wp.template( templateId );\n\t\t\t}\n\t\t\treturn function template( data ) {\n\t\t\t\tvar variation = data.variation || {};\n\t\t\t\treturn html.replace( /({{{?)\\s?data\\.variation\\.([\\w-]*)\\s?(}}}?)/g, function( _, open, key, close ) {\n\t\t\t\t\t// Error in the format, ignore.\n\t\t\t\t\tif ( open.length !== close.length ) {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t\tvar replacement = variation[ key ] || '';\n\t\t\t\t\t// {{{ }}} => interpolate (unescaped).\n\t\t\t\t\t// {{  }}  => interpolate (escaped).\n\t\t\t\t\t// https://codex.wordpress.org/Javascript_Reference/wp.template\n\t\t\t\t\tif ( open.length === 2 ) {\n\t\t\t\t\t\treturn window.escape( replacement );\n\t\t\t\t\t}\n\t\t\t\t\treturn replacement;\n\t\t\t\t} );\n\t\t\t};\n\t\t};\n\n\t}\n)( jQuery, window, document );\n"]}