{"version":3,"sources":["modal.js"],"names":["$","MinimogModal","$el","options","this","ACTIVE_CLASS","initialized","defaults","perfectScrollbar","afterInit","settings","extend","triggerMethod","method","setOptions","getOptions","update","setHeight","newHeight","find","height","init","plugin","dynamic","addClass","html","on","e","preventDefault","stopPropagation","close","document","body","keyCode","trigger","open","filter","removeClass","attr","prop","window","minimog","Helpers","setBodyOverflow","fn","isHandheld","unsetBodyOverflow","remove","namespace","args","length","data","get","each","let","instance","jQuery"],"mappings":"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","file":"../../modal.min.js","sourcesContent":["(\n\tfunction( $ ) {\n\t\t'use strict';\n\n\t\tvar MinimogModal = function( $el, options ) {\n\t\t\tthis.$el          = $el;\n\t\t\tthis.ACTIVE_CLASS = 'open';\n\t\t\tthis.initialized  = false;\n\t\t\tthis.defaults     = {\n\t\t\t\tperfectScrollbar: true,\n\t\t\t\tafterInit: () => {\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.settings     = $.extend( {}, this.defaults, options );\n\n\t\t\t// jQuery methods.\n\t\t\tthis.triggerMethod = ( method, options ) => {\n\t\t\t\tif ( typeof this[method] === 'function' ) {\n\t\t\t\t\tthis[method]( options );\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.setOptions = function( options ) {\n\t\t\t\toptions = options || {};\n\n\t\t\t\tthis.settings = $.extend( {}, this.settings, options );\n\t\t\t};\n\n\t\t\tthis.getOptions = function() {\n\t\t\t\treturn this.settings;\n\t\t\t};\n\n\t\t\tthis.update = function( options ) {\n\t\t\t\tthis.setOptions( options );\n\t\t\t};\n\n\t\t\tthis.setHeight = function( newHeight ) {\n\t\t\t\tthis.$el.find( '.modal-content-wrap' ).height( newHeight );\n\t\t\t};\n\n\t\t\tthis.init = function() {\n\t\t\t\tvar plugin = this;\n\n\t\t\t\tif ( false === plugin.initialized ) {\n\t\t\t\t\tif ( this.settings.dynamic ) {\n\t\t\t\t\t\t$el.addClass( 'minimog-modal' );\n\t\t\t\t\t\t$el.html( `<div class=\"modal-overlay\"></div><div class=\"modal-content\"><div class=\"button-close-modal\"></div><div class=\"modal-content-wrap\"><div class=\"modal-content-inner\"></div></div></div>` );\n\t\t\t\t\t\tthis.settings.afterInit( this );\n\t\t\t\t\t}\n\n\t\t\t\t\t$el.on( 'click', '.modal-overlay, .button-close-modal', function( e ) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\n\t\t\t\t\t\tplugin.close();\n\t\t\t\t\t} );\n\n\t\t\t\t\t$( document.body ).on( 'keyup', function( e ) {\n\t\t\t\t\t\t// Esc button\n\t\t\t\t\t\tif ( e.keyCode === 27 ) {\n\t\t\t\t\t\t\tplugin.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t\tplugin.initialized = true;\n\t\t\t\t\t$( document.body ).trigger( 'MinimogModalInit', [ $el ] );\n\n\t\t\t\t\tplugin.open();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.open = function() {\n\t\t\t\tvar plugin = this;\n\n\t\t\t\t$( '.minimog-modal' ).filter( '.' + plugin.ACTIVE_CLASS ).removeClass( plugin.ACTIVE_CLASS ).attr( 'aria-hidden', 'true' ).prop( 'hidden', true );\n\n\t\t\t\tplugin.init();\n\n\t\t\t\t$el.addClass( plugin.ACTIVE_CLASS ).attr( 'aria-hidden', 'false' ).prop( 'hidden', false );\n\n\t\t\t\twindow.minimog.Helpers.setBodyOverflow();\n\n\t\t\t\tif ( this.settings.perfectScrollbar && $.fn.perfectScrollbar && ! window.minimog.Helpers.isHandheld() ) {\n\t\t\t\t\t$el.find( '.modal-content-wrap' ).perfectScrollbar();\n\t\t\t\t}\n\n\t\t\t\t$( document.body ).trigger( 'MinimogModalOpen', [ $el ] );\n\t\t\t\t$el.trigger( 'MinimogModalOpen' );\n\t\t\t};\n\n\t\t\tthis.close = function() {\n\t\t\t\tvar plugin = this;\n\n\t\t\t\t$el.removeClass( plugin.ACTIVE_CLASS ).attr( 'aria-hidden', 'true' ).prop( 'hidden', true );\n\n\t\t\t\twindow.minimog.Helpers.unsetBodyOverflow();\n\n\t\t\t\t$( document.body ).trigger( 'MinimogModalClose', [ $el ] );\n\t\t\t\t$el.trigger( 'MinimogModalClose' );\n\n\t\t\t\tif ( this.settings.dynamic ) {\n\t\t\t\t\t$el.remove();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.init();\n\t\t};\n\n\t\tconst namespace = 'minimogModal';\n\n\t\t$.fn.extend( {\n\t\t\tMinimogModal: function( args, update ) {\n\t\t\t\t// Check if selected element exist.\n\t\t\t\tif ( ! this.length ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t\t// We need to return options.\n\t\t\t\tif ( args === 'options' ) {\n\t\t\t\t\treturn $.data( this.get( 0 ), namespace ).getOptions();\n\t\t\t\t}\n\n\t\t\t\treturn this.each( function() {\n\t\t\t\t\tvar $el = $( this );\n\n\t\t\t\t\tlet instance = $.data( this, namespace );\n\n\t\t\t\t\tif ( instance ) { // Already created then trigger method.\n\t\t\t\t\t\tinstance.triggerMethod( args, update );\n\t\t\t\t\t} else { // Create new instance.\n\t\t\t\t\t\tinstance = new MinimogModal( $el, args );\n\t\t\t\t\t\t$.data( this, namespace, instance );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t}( jQuery )\n);\n"]}