{"version":3,"sources":["tab-panel.js"],"names":["$","MinimogTabPanel","$el","options","this","$contentWrapper","find","ACTIVE_CLASS","SWITCHING_CLASS","defaults","navType","contentHeight","settings","extend","triggerMethod","method","setOptions","getOptions","update","updateContentHeight","init","lazyLoadTimer","$accordion","plugin","on","evt","index","val","switchTab","fn","MinimogNiceSelect","preventDefault","$thisTab","data","hasClass","siblings","removeClass","attr","addClass","perfectScrollbar","window","minimog","Helpers","isHandheld","suppressScrollY","useBothWheelAxes","laziestloader","clearTimeout","setTimeout","updateLayout","MinimogAccordion","length","$window","$panel","$activeTabContent","prop","filter","document","body","trigger","$activeItem","outerHeight","css","namespace","args","get","each","let","instance","jQuery"],"mappings":"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","file":"../../tab-panel.min.js","sourcesContent":["(\n\tfunction( $ ) {\n\t\t'use strict';\n\n\t\tvar $window = $( window );\n\n\t\tvar MinimogTabPanel = function( $el, options ) {\n\t\t\tthis.$el = $el;\n\t\t\tthis.$contentWrapper = $el.find( '.minimog-tabs__content' );\n\t\t\tthis.ACTIVE_CLASS = 'active';\n\t\t\tthis.SWITCHING_CLASS = 'switching';\n\n\t\t\tthis.defaults = {\n\t\t\t\tnavType: 'list',\n\t\t\t\tcontentHeight: 0\n\t\t\t};\n\t\t\tthis.settings = $.extend( {}, this.defaults, options );\n\n\t\t\t// jQuery methods.\n\t\t\tthis.triggerMethod = ( method, options ) => {\n\t\t\t\tif ( typeof this[ method ] === 'function' ) {\n\t\t\t\t\tthis[ method ]( options );\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.setOptions = function( options ) {\n\t\t\t\toptions = options || {};\n\n\t\t\t\tthis.settings = $.extend( {}, this.settings, options );\n\t\t\t};\n\n\t\t\tthis.getOptions = function() {\n\t\t\t\treturn this.settings;\n\t\t\t};\n\n\t\t\tthis.update = function( options ) {\n\t\t\t\tthis.setOptions( options );\n\n\t\t\t\tthis.updateContentHeight();\n\t\t\t};\n\n\t\t\tthis.init = function() {\n\t\t\t\tvar plugin = this;\n\n\t\t\t\tif ( 'dropdown' === plugin.settings.navType ) {\n\t\t\t\t\t$el.on( 'change', '.tab-select', function( evt ) {\n\t\t\t\t\t\tvar index = $( this ).val();\n\n\t\t\t\t\t\tplugin.switchTab( index );\n\t\t\t\t\t} );\n\n\t\t\t\t\tif ( $.fn.MinimogNiceSelect() ) {\n\t\t\t\t\t\t$el.find( '.tab-select' ).MinimogNiceSelect();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$el.on( 'click', '.tab-title', function( evt ) {\n\t\t\t\t\t\tevt.preventDefault();\n\n\t\t\t\t\t\tvar $thisTab = $( this ),\n\t\t\t\t\t\t    index    = $thisTab.data( 'tab' );\n\n\t\t\t\t\t\tif ( $thisTab.hasClass( plugin.ACTIVE_CLASS ) ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$thisTab.siblings().removeClass( plugin.ACTIVE_CLASS ).attr( 'aria-selected', 'false' ).attr( 'tabindex', '-1' );\n\t\t\t\t\t\t$thisTab.addClass( plugin.ACTIVE_CLASS ).attr( 'aria-selected', 'true' ).attr( 'tabindex', '0' );\n\n\t\t\t\t\t\tplugin.switchTab( index );\n\t\t\t\t\t} );\n\n\t\t\t\t\tif ( $.fn.perfectScrollbar && ! window.minimog.Helpers.isHandheld() ) {\n\t\t\t\t\t\t$el.find( '.minimog-tabs__header-inner' ).perfectScrollbar( {\n\t\t\t\t\t\t\tsuppressScrollY: true,\n\t\t\t\t\t\t\tuseBothWheelAxes: true,\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( $.fn.laziestloader ) {\n\t\t\t\t\tvar lazyImages = $el.find( '.tab-content.active' ).find( '.ll-image' );\n\t\t\t\t\tvar lazyLoadTimer;\n\n\t\t\t\t\tlazyImages.on( 'loaded', function( evt ) {\n\t\t\t\t\t\tclearTimeout( lazyLoadTimer );\n\t\t\t\t\t\tlazyLoadTimer = setTimeout( function() {\n\t\t\t\t\t\t\tplugin.updateLayout();\n\t\t\t\t\t\t}, 100 );\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\t// Update Tab when child components size changed.\n\t\t\t\tif ( $.fn.MinimogAccordion ) {\n\t\t\t\t\tvar $accordion = plugin.$el.find( '.minimog-accordion' );\n\t\t\t\t\tif ( 0 < $accordion.length ) {\n\t\t\t\t\t\t$accordion.on( 'MinimogAccordionBeforeChange', function() {\n\t\t\t\t\t\t\tplugin.$el.addClass( plugin.SWITCHING_CLASS );\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t$accordion.on( 'MinimogAccordionChange', function() {\n\t\t\t\t\t\t\tplugin.updateLayout();\n\t\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\t\tplugin.$el.removeClass( plugin.SWITCHING_CLASS );\n\t\t\t\t\t\t\t}, 400 );\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$window.on( 'hresize', function() {\n\t\t\t\t\tplugin.updateLayout();\n\t\t\t\t} );\n\n\t\t\t\t// Try re-calculate layout when img loaded.\n\t\t\t\t$window.on( 'load', function() {\n\t\t\t\t\tplugin.updateLayout();\n\t\t\t\t} );\n\n\t\t\t\tthis.updateLayout();\n\t\t\t\t$el.addClass( 'initialized' );\n\t\t\t};\n\n\t\t\tthis.switchTab = function( index ) {\n\t\t\t\tvar plugin = this;\n\t\t\t\t$el.addClass( plugin.SWITCHING_CLASS );\n\t\t\t\tvar $panel = $el.find( '.tab-content' );\n\t\t\t\t$panel.removeClass( plugin.ACTIVE_CLASS ).attr( 'aria-expanded', false ).prop( 'hidden', true );\n\n\t\t\t\tvar $activeTabContent = $panel.filter( '[data-tab=\"' + index + '\"]' ).addClass( plugin.ACTIVE_CLASS ).attr( 'aria-expanded', true ).prop( 'hidden', false );\n\n\t\t\t\tplugin.updateLayout();\n\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t$el.removeClass( plugin.SWITCHING_CLASS );\n\t\t\t\t}, 400 );\n\n\t\t\t\t$( document.body ).trigger( 'MinimogTabChange', [ $el, $activeTabContent ] );\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Calculate tab content height\n\t\t\t */\n\t\t\tthis.updateLayout = function() {\n\t\t\t\tvar $activeItem = $el.find( '.tab-content.active' );\n\t\t\t\tthis.settings.contentHeight = $activeItem.outerHeight();\n\n\t\t\t\tthis.updateContentHeight();\n\t\t\t};\n\n\t\t\tthis.updateContentHeight = function() {\n\t\t\t\tthis.$contentWrapper.css( 'height', this.settings.contentHeight );\n\t\t\t};\n\n\t\t\tthis.init();\n\t\t};\n\n\t\tconst namespace = 'minimogTabPanel';\n\n\t\t$.fn.extend( {\n\t\t\tMinimogTabPanel: function( args, update ) {\n\t\t\t\t// Check if selected element exist.\n\t\t\t\tif ( ! this.length ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t\t// We need to return options.\n\t\t\t\tif ( args === 'options' ) {\n\t\t\t\t\treturn $.data( this.get( 0 ), namespace ).getOptions();\n\t\t\t\t}\n\n\t\t\t\treturn this.each( function() {\n\t\t\t\t\tvar $el = $( this );\n\n\t\t\t\t\tlet instance = $.data( this, namespace );\n\n\t\t\t\t\tif ( instance ) { // Already created then trigger method.\n\t\t\t\t\t\tinstance.triggerMethod( args, update );\n\t\t\t\t\t} else { // Create new instance.\n\t\t\t\t\t\tinstance = new MinimogTabPanel( $el, args );\n\t\t\t\t\t\t$.data( this, namespace, instance );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t}( jQuery )\n);\n"]}